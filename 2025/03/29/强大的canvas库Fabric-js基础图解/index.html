
<!DOCTYPE html><html lang="zh-CN">

<head>
  <meta charset="utf-8">
  <meta name="hexo-theme" content="https://github.com/xaoxuu/hexo-theme-stellar/tree/1.27.0" theme-name="Stellar" theme-version="1.27.0">
  
  <meta name="generator" content="Hexo 7.1.1">
  <meta http-equiv='x-dns-prefetch-control' content='on' />
  
  <meta name="renderer" content="webkit">
  <meta name="referrer" content="no-referrer">
  <meta name="force-rendering" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="HandheldFriendly" content="True" >
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="theme-color" content="#f8f8f8">
  
  <title>强大的canvas库Fabric.js基础图解 - JKK随笔</title>

  
    <meta name="description" content="转载自: https:&#x2F;&#x2F;juejin.cn&#x2F;post&#x2F;7026941253845516324  简介Fabric.js 简介 Fabric.js 是一个功能强大且操作简单的 Javascript HTML5 canvas 工具库。   如果你需要用 canvas 做特效，那我推荐你使用 Fabric.js ，因为 Fabric.js 语法更加简单易用，而且还提供了很多交互类的 api。 Fab">
<meta property="og:type" content="article">
<meta property="og:title" content="强大的canvas库Fabric.js基础图解">
<meta property="og:url" content="https://panzhenjie.fun/2025/03/29/%E5%BC%BA%E5%A4%A7%E7%9A%84canvas%E5%BA%93Fabric-js%E5%9F%BA%E7%A1%80%E5%9B%BE%E8%A7%A3/index.html">
<meta property="og:site_name" content="JKK随笔">
<meta property="og:description" content="转载自: https:&#x2F;&#x2F;juejin.cn&#x2F;post&#x2F;7026941253845516324  简介Fabric.js 简介 Fabric.js 是一个功能强大且操作简单的 Javascript HTML5 canvas 工具库。   如果你需要用 canvas 做特效，那我推荐你使用 Fabric.js ，因为 Fabric.js 语法更加简单易用，而且还提供了很多交互类的 api。 Fab">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bad5897483a54525a91b50ae8441882a~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d12203b249d9470bb8384bc8cf4a5255~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/460f050b671f4a9b8b67045c1f084bd9~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9f7c1c07c4054a8abbb7e4b8c98a0b1c~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d084f62d3a4e4be4a0558f40496d07d9~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5b6fb1a2b7b84b638faaadc8a6863769~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/13c007bac023470b96aa282f31f4e4d5~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/176165505e4b492daf0d16cbe0167baa~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/498f2c6d4ef04e41be0ef58fecc4b9f9~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/73354c5cc3d74a5997f6bdb9054574c3~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/645edaa4dfac47ccb0a1fbd0230eae8e~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c429db185578406f91608e918bd6eb2b~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/25312985f91d45869166cae26d25dfc9~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cf054e32008e4c26b3d00503594897b7~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5d1d3afcea2b4dbb9c68d3889ef9a5ab~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a400fb05bd02479f8687e937974545ce~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c6dac24cbf214274a6b114fae91efa76~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9bc79d1101c14668a5b255a8bce076fe~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2b0cb372e13d4c8899e9d7a239193c6b~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/dee26fa9aca542aa80f0d1158eebd87d~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/13392d82e58c4bd0b6dc60e8a291a431~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7235d936a51c4c988c3434a8d03e71f4~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/75666137555645ecad529562c10df952~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/aabc5791f6074f72bc6411fe951079bf~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ef295b8df2a24ccfb9d6e563c54d6ac9~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9678de5d63ca4f76950ff1b5fa3e10ed~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b4a77b5891ee4e059a79fce931d1f72e~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/98b5bf9b4e6b4f32a321782d26acac57~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9003cbea88f64f97827c97a1551b385b~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5397bba4da434acfa07f376baee81e9e~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9129312f8172445494c41d9224aad3f5~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/60e2bf52f3a14f56a1d9f0fd635e3706~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5f0f273a2f4945bea0141e0477dbf63c~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/51b5bb936931446790cda6314323560c~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2c7ec8b8d4774a3b8dbe47d36e6d6da6~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/52a174c4768d44f887bd419aeae55b6c~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b04efd5331e44b5ebf15378da66810df~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/216327a4f5ae42dc838cb9befdc4c9ac~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9e237a4bf4f342468e30d7fb65b6eff1~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/44dcefc59a344fcfac7c068c5e9b01b9~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/84032b8bd545462dbd49d16235a9a438~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b8ab6edac1414cea8c6d0e3da94c8999~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/722858b0acb0438c968179ec3eb835fd~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7608757ba6004301b2aa8612a306ff8d~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/211e00fb123d49ff901a03de4b4f8007~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0a5e67d297664bbd8843e8efdad2bbc3~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/28181b2d8f134e938319d4f8ce8b1545~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/577e5fc472e94f349d0d3f3369d81860~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/51ec23b913cd40cfa38cf922a0f71523~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a78c9d4c066e4ee6a7481a1cd50efeef~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/38f6d95c414b4e8fb49f4dc18fe700c2~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/91ce3dc57f824da5aa0aa9671d85a9e2~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/233f6178b9a14b079e6600a20c2d7f6f~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5b1a57a530ba41a08e2753a9f5c76c28~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/241d256547614cee8fddde68be0c12c5~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3bb1ba37e81b473f93f95cf431c73162~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c83dcd8124d045d38318ee48059061cb~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/18757a14f91d45898984bb344edd2920~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d92a920864c64112834577a20e2a14ee~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ca4aeae6e1a143b58181823ede36434e~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9ff045aba9244fe2bced8b2c9d8c6db8~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f050786169624fd6b3dfa7d0b9500bdf~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4d5f03294ede4c6aaa19532b055a2db2~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/02d6451d78364f2f9208d5808553dc51~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7a2f6105016e4883b95335c296c5bf57~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ac6900c5a4bb49dc9e54688bcb81efa6~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f7589eb3001e4de99641e480f965b095~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/84f8508e01f942f5b2a45cabc70d0a3a~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c7da8e556dce44728bb4d28a0985e01a~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9a0277bf563b4a34b065f3b9635e48f5~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6703f9e5553b4fd5947e98adffbacd55~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/93b4325b8d8a4d7ba80920e5591d7d22~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c1c255aab002488f88763e6873d0fcf6~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6619e6aeb2f2457093227b4293a76866~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1015effccbb745208f8bbb083250c13c~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d148d87c3a5e4e17a8d3307d4e37b3cd~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2339e4806e77436c85b0b5cf5b955d6f~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2e56e1d626e9426bbb20f8c0dc336e45~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4e17488938154fe4b16ed7250f430b51~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b2443f233a124d6e81d1e1765a0ba473~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="og:image" content="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5feac5229e0c4d93b0efd76da6ed5c09~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
<meta property="article:published_time" content="2025-03-29T02:59:31.000Z">
<meta property="article:modified_time" content="2025-04-07T12:13:44.426Z">
<meta property="article:author" content="stephenykk">
<meta property="article:tag" content="canvas">
<meta property="article:tag" content="fabric.js">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bad5897483a54525a91b50ae8441882a~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp">
  
  
  
  <meta name="keywords" content="canvas,fabric.js">

  <!-- feed -->
  

  <link rel="stylesheet" href="/css/main.css?v=1.27.0">

  

  

  
</head>
<body>

<div class="l_body s:aa content tech" id="start" layout="post" ><aside class="l_left"><div class="leftbar-container">


<header class="header"><div class="logo-wrap"><a class="avatar" href="/about/"><div class="bg" style="opacity:0;background-image:url(https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/avatar/round/rainbow64@3x.webp);"></div><img referrerpolicy="no-referrer" no-lazy class="avatar" src="https://avatars.githubusercontent.com/u/7259892?s=400&u=01563911436a79d809f95ca8d1191c8a7ecc6f56&v=4" onerror="javascript:this.classList.add('error');this.src='https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/image/2659360.svg';"></a><a class="title" href="/"><div class="main" ff="title">JKK随笔</div><div class="sub normal cap">搬砖工</div><div class="sub hover cap" style="opacity:0"> 但行好事 莫问前程</div></a></div></header>

<div class="nav-area">
<div class="search-wrapper" id="search-wrapper"><form class="search-form"><a class="search-button" onclick="document.getElementById(&quot;search-input&quot;).focus();"><svg t="1705074644177" viewBox="0 0 1025 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1560" width="200" height="200"><path d="M1008.839137 935.96571L792.364903 719.491476a56.783488 56.783488 0 0 0-80.152866 0 358.53545 358.53545 0 1 1 100.857314-335.166073 362.840335 362.840335 0 0 1-3.689902 170.145468 51.248635 51.248635 0 1 0 99.217358 26.444296 462.057693 462.057693 0 1 0-158.255785 242.303546l185.930047 185.725053a51.248635 51.248635 0 0 0 72.568068 0 51.248635 51.248635 0 0 0 0-72.978056z" p-id="1561"></path><path d="M616.479587 615.969233a50.428657 50.428657 0 0 0-61.498362-5.534852 174.655348 174.655348 0 0 1-177.525271 3.484907 49.403684 49.403684 0 0 0-58.833433 6.76482l-3.074918 2.869923a49.403684 49.403684 0 0 0 8.609771 78.10292 277.767601 277.767601 0 0 0 286.992355-5.739847 49.403684 49.403684 0 0 0 8.404776-76.667958z" p-id="1562"></path></svg></a><input type="text" class="search-input" id="search-input" placeholder="站内搜索"></form><div id="search-result"></div><div class="search-no-result">没有找到内容！</div></div>


<nav class="menu dis-select"><a class="nav-item active" title="博客" href="/" style="color:#1BCDFC"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M5.879 2.879C5 3.757 5 5.172 5 8v8c0 2.828 0 4.243.879 5.121C6.757 22 8.172 22 11 22h2c2.828 0 4.243 0 5.121-.879C19 20.243 19 18.828 19 16V8c0-2.828 0-4.243-.879-5.121C17.243 2 15.828 2 13 2h-2c-2.828 0-4.243 0-5.121.879M8.25 17a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75M9 12.25a.75.75 0 0 0 0 1.5h6a.75.75 0 0 0 0-1.5zM8.25 9A.75.75 0 0 1 9 8.25h6a.75.75 0 0 1 0 1.5H9A.75.75 0 0 1 8.25 9" clip-rule="evenodd"/><path fill="currentColor" d="M5.235 4.058C5 4.941 5 6.177 5 8v8c0 1.823 0 3.058.235 3.942L5 19.924c-.975-.096-1.631-.313-2.121-.803C2 18.243 2 16.828 2 14v-4c0-2.829 0-4.243.879-5.121c.49-.49 1.146-.707 2.121-.803zm13.53 15.884C19 19.058 19 17.822 19 16V8c0-1.823 0-3.059-.235-3.942l.235.018c.975.096 1.631.313 2.121.803C22 5.757 22 7.17 22 9.999v4c0 2.83 0 4.243-.879 5.122c-.49.49-1.146.707-2.121.803z" opacity=".5"/></svg></a><a class="nav-item" title="小学堂" href="/study/" style="color:#3DC550"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M14.25 4.48v3.057c0 .111 0 .27.02.406a.936.936 0 0 0 .445.683a.96.96 0 0 0 .783.072c.13-.04.272-.108.378-.159L17 8.005l1.124.534c.106.05.248.119.378.16a.958.958 0 0 0 .783-.073a.936.936 0 0 0 .444-.683c.021-.136.021-.295.021-.406V3.031c.113-.005.224-.01.332-.013C21.154 2.98 22 3.86 22 4.933v11.21c0 1.112-.906 2.01-2.015 2.08c-.97.06-2.108.179-2.985.41c-1.082.286-1.99 1.068-3.373 1.436c-.626.167-1.324.257-1.627.323V5.174c.32-.079 1.382-.203 1.674-.371c.184-.107.377-.216.576-.323m5.478 8.338a.75.75 0 0 1-.546.91l-4 1a.75.75 0 0 1-.364-1.456l4-1a.75.75 0 0 1 .91.546" clip-rule="evenodd"/><path fill="currentColor" d="M18.25 3.151c-.62.073-1.23.18-1.75.336a8.2 8.2 0 0 0-.75.27v3.182l.75-.356l.008-.005a1.13 1.13 0 0 1 .492-.13c.047 0 .094.004.138.01c.175.029.315.1.354.12l.009.005l.749.356V3.647z"/><path fill="currentColor" d="M12 5.214c-.334-.064-1.057-.161-1.718-.339C8.938 4.515 8.05 3.765 7 3.487c-.887-.234-2.041-.352-3.018-.412C2.886 3.007 2 3.9 2 4.998v11.146c0 1.11.906 2.01 2.015 2.079c.97.06 2.108.179 2.985.41c.486.129 1.216.431 1.873.726c1.005.451 2.052.797 3.127 1.034z" opacity=".5"/><path fill="currentColor" d="M4.273 12.818a.75.75 0 0 1 .91-.545l4 1a.75.75 0 1 1-.365 1.455l-4-1a.75.75 0 0 1-.545-.91m.909-4.545a.75.75 0 1 0-.364 1.455l4 1a.75.75 0 0 0 .364-1.455z"/></svg></a></nav>
</div>
<div class="widgets">


<widget class="widget-wrapper post-list"><div class="widget-header dis-select"><span class="name">最近更新</span></div><div class="widget-body fs14"><a class="item title" href="/2025/05/29/git%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/"><span class="title">git快速入门教程</span></a><a class="item title" href="/2025/05/28/vim%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/"><span class="title">vim快速入门教程</span></a><a class="item title" href="/2025/04/08/%E8%81%8A%E8%81%8Acanvas%E7%BB%98%E5%9B%BE%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86/"><span class="title">聊聊canvas绘图状态管理</span></a><a class="item title" href="/2025/04/21/%E6%B5%85%E8%AF%B4%E8%99%9A%E6%8B%9F%E5%88%97%E8%A1%A8%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86/"><span class="title">浅说虚拟列表实现原理</span></a><a class="item title" href="/2025/04/10/three-js%E8%BD%BB%E6%9D%BE%E5%85%A5%E9%97%A8/"><span class="title">three.js轻松入门</span></a><a class="item title" href="/2025/04/21/%E4%B8%80%E8%B5%B7%E8%81%8A%E8%81%8AIPv4-IPv6%E5%92%8C%E5%B1%80%E5%9F%9F%E7%BD%91/"><span class="title">一起聊聊IPv4/IPv6和局域网</span></a><a class="item title" href="/2025/04/21/IPv6%E5%9C%B0%E5%9D%80%E6%A0%BC%E5%BC%8F%E8%AF%A6%E8%A7%A3/"><span class="title">IPv6地址格式详解</span></a><a class="item title" href="/2025/04/08/canvas%E8%BF%9B%E9%98%B6%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%A7%A3/"><span class="title">canvas进阶知识图解</span></a><a class="item title" href="/2025/03/29/%E5%BC%BA%E5%A4%A7%E7%9A%84canvas%E5%BA%93Fabric-js%E5%9F%BA%E7%A1%80%E5%9B%BE%E8%A7%A3/"><span class="title">强大的canvas库Fabric.js基础图解</span></a><a class="item title" href="/2025/02/21/%E5%80%BC%E5%BE%97%E4%BA%86%E8%A7%A3%E7%9A%84Python%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/"><span class="title">值得了解的Python虚拟环境</span></a></div></widget>
</div>

</div></aside><div class="l_main" id="main">





<div class="article banner top"><img referrerpolicy="no-referrer" class="bg lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/images/banner_camera.jpg">
  <div class="content">
    <div class="top bread-nav footnote"><div class="left"><div class="flex-row" id="breadcrumb"><a class="cap breadcrumb" href="/">主页</a>
<span class="sep"></span><a class="cap breadcrumb" href="/">文章</a><span class="sep"></span><a class="cap breadcrumb-link" href="/categories/canvas/">canvas</a></div>
<div class="flex-row" id="post-meta"><span class="text created">发布于：<time datetime="2025-03-29T02:59:31.000Z">2025-03-29</time></span><span class="sep updated"></span><span class="text updated">更新于：<time datetime="2025-04-07T12:13:44.426Z">2025-04-07</time></span></div></div></div>
    
    <div class="bottom only-title">
      
      <div class="text-area">
        <h1 class="text title"><span>强大的canvas库Fabric.js基础图解</span></h1>
        
      </div>
    </div>
    
  </div>
  </div><article class="md-text content"><blockquote>
<p>转载自: <a target="_blank" rel="noopener" href="https://juejin.cn/post/7026941253845516324">https://juejin.cn/post/7026941253845516324</a></p>
</blockquote>
<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><h3 id="Fabric-js-简介"><a href="#Fabric-js-简介" class="headerlink" title="Fabric.js 简介"></a>Fabric.js 简介</h3><blockquote>
<p><code>Fabric.js</code> 是一个功能强大且操作简单的 <code>Javascript HTML5 canvas</code> 工具库。</p>
</blockquote>
<p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bad5897483a54525a91b50ae8441882a~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="00.png"></p>
<p>如果你需要用 <code>canvas</code> 做特效，那我推荐你使用 <code>Fabric.js</code> ，因为 <code>Fabric.js</code> 语法更加简单易用，而且还提供了很多交互类的 <code>api</code>。</p>
<p><code>Fabric.js</code> 简化了很多 <code>Canvas</code> 里的概念，代码看上去也更加语义化。</p>
<p><code>Fabric.js</code> 能做什么？</p>
<p>可以打开 <a target="_blank" rel="noopener" href="http://fabricjs.com/" title="http://fabricjs.com/">『Fabric.js 官网首页』</a> 直接看例子，也可以看看 <a target="_blank" rel="noopener" href="http://fabricjs.com/demos/" title="http://fabricjs.com/demos/">『Fabric.js Demos』</a> 查看更炫酷的例子。</p>
<h3 id="本文简介"><a href="#本文简介" class="headerlink" title="本文简介"></a>本文简介</h3><p>如果是 <strong>0基础</strong> 的读者，希望可以从头读到尾，读完起码大概知道 <code>Fabric.js</code> 有哪些功能。</p>
<p>本文是根据我的学习过程来编写的，只要跟着本文一步一步操作，一定可以入门 <code>Fabric.js</code> <del>，同时还能改善您的睡眠质量、解决毛发过多等诸多问题</del>。</p>
<p>由于我使用 <code>Fabric.js</code> 的时间不长，这份笔记在各个知识点的内容肯定不够全面的，也不一定完全正确。读者们如果发现本文存在不正确的地方请大胆指出，我会改的~</p>
<p><strong>本文适合人群：</strong></p>
<ul>
<li>有原生三件套基础的开发者</li>
<li>最好有 <code>canvas</code> 基础（这是加分项，完全没有也没关系的）</li>
</ul>
<p>本文主要讲解 <code>Fabric.js</code> <strong>基础</strong>，包括：</p>
<ul>
<li>画布的基本操作</li>
<li>基础图形绘制方法（矩形、圆形、三角形、椭圆、多边形、线段等）</li>
<li>图片和滤镜的使用</li>
<li>文本和文本框</li>
<li>动画</li>
<li>分组和打散分组</li>
<li>基础事件</li>
<li>自由绘画</li>
<li>裁剪</li>
<li>序列化和反序列化</li>
<li>……</li>
</ul>
<p>除此之外，还会讲一些<strong>进阶</strong>一点的操作，比如：</p>
<ul>
<li>自定义操作角样式和状态</li>
<li>自定义控件</li>
<li>复制粘贴图形</li>
<li>使用事件方式操作图形和分组</li>
<li>……</li>
</ul>
<p>除了上述内容外，我还会根据日后的工作中整理出更多常用和好玩的操作，本文即学习仓库会<strong>不定期更新！！！</strong></p>
<h3 id="相关链接"><a href="#相关链接" class="headerlink" title="相关链接"></a>相关链接</h3><p><a target="_blank" rel="noopener" href="https://www.npmjs.com/package/fabric" title="https://www.npmjs.com/package/fabric">『Fabric.js npm地址』</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/fabricjs/fabric.js" title="https://github.com/fabricjs/fabric.js">『Fabric.js github地址』</a></p>
<p><a target="_blank" rel="noopener" href="http://k21vin.gitee.io/front-end-data-visualization/#/fabric/fabric-basic/fabric-stated" title="http://k21vin.gitee.io/front-end-data-visualization/#/fabric/fabric-basic/fabric-stated">🎁本文案例在线预览</a></p>
<p><a target="_blank" rel="noopener" href="https://gitee.com/k21vin/front-end-data-visualization" title="https://gitee.com/k21vin/front-end-data-visualization">🎁本文所有案例仓库地址 【欢迎Star，不定期更新！！！】</a></p>
<hr>
<h2 id="开发环境搭建"><a href="#开发环境搭建" class="headerlink" title="开发环境搭建"></a>开发环境搭建</h2><h3 id="环境和版本说明"><a href="#环境和版本说明" class="headerlink" title="环境和版本说明"></a>环境和版本说明</h3><ul>
<li><p>本文使用 <code>Fabric.js</code> 的版本是 <code>4.6</code>。</p>
</li>
<li><p>本文的开发环境是使用 <code>Vite</code> 构建的 <code>Vue 3.2</code> 项目。</p>
</li>
</ul>
<p>没有 <code>Vite</code> 和 <code>Vue3.2</code> 基础的同学也不用怕，因为 <code>Vite</code> 真的足够简单。</p>
<p>本文的目的是讲解 <code>Fabric.js</code> ，所以用到 <code>Vue 3.2</code> 的地方其实很少，用到时我也会有详细说明。</p>
<p>如果你不打算使用 <code>Vite</code> 和 <code>Vue 3.2</code> 也没关系，<strong>用你喜欢的方式去搭建项目即可</strong>。</p>
<p>现在只需跟着以下步骤搭建项目即可。</p>
<h3 id="搭建环境（Vite-Vue3）"><a href="#搭建环境（Vite-Vue3）" class="headerlink" title="搭建环境（Vite + Vue3）"></a>搭建环境（Vite + Vue3）</h3><p><a target="_blank" rel="noopener" href="https://vitejs.cn/" title="https://vitejs.cn/">Vite 官网</a></p>
<p><a target="_blank" rel="noopener" href="https://v3.cn.vuejs.org/guide/introduction.html" title="https://v3.cn.vuejs.org/guide/introduction.html">Vue3 官网</a></p>
<p>如果你不想使用 <code>Vite + Vue3</code> 的话，可以跳过本节。</p>
<p>我也建议你直接使用原生 (HTML+CSS+JS) 的方式直接学习 <code>Fabric.js</code>，因为这样上手速度最快。</p>
<h4 id="1-搭建Vite项目"><a href="#1-搭建Vite项目" class="headerlink" title="1. 搭建Vite项目"></a>1. 搭建Vite项目</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs auto">npm init @vitejs/app<br></code></pre></td></tr></table></figure>

<h4 id="2-给项目起个名，并选择-Vue"><a href="#2-给项目起个名，并选择-Vue" class="headerlink" title="2. 给项目起个名，并选择 Vue"></a>2. 给项目起个名，并选择 Vue</h4><p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d12203b249d9470bb8384bc8cf4a5255~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="001.png"></p>
<p>之后会让你选 <code>vue</code> 或者 <code>vue + ts</code>，我选择了 <code>vue</code> ，你随意。</p>
<p>为什么不选 <code>ts</code> ？因为一人开发的练手项目使用 <code>ts</code> 有点得不偿失。</p>
<h4 id="3-初始化项目"><a href="#3-初始化项目" class="headerlink" title="3. 初始化项目"></a>3. 初始化项目</h4><p>其实做完上一步就会给出提示（3条命令），跟着敲完就能运行项目了</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs auto"># 进入项目目录<br>cd fabric-demo<br><br># 初始化项目<br>npm install<br><br># 运行项目<br>npm run dev<br></code></pre></td></tr></table></figure>

<p>如果 <code>npm</code> 太慢的话，可以使用 <code>cnpm</code> 。</p>
<p>如果不知道 <code>cnpm</code> 怎么搞，请自行百度。</p>
<h3 id="安装Fabric-js"><a href="#安装Fabric-js" class="headerlink" title="安装Fabric.js"></a>安装Fabric.js</h3><h4 id="方式1：CDN"><a href="#方式1：CDN" class="headerlink" title="方式1：CDN"></a>方式1：CDN</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;script src=&quot;https://unpkg.com/fabric@4.6.0/dist/fabric.min.js&quot;&gt;&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p>你可以使用 CDN 的方式引入，因为这样对学习来说是最快捷的。</p>
<h4 id="方式2：npm"><a href="#方式2：npm" class="headerlink" title="方式2：npm"></a>方式2：npm</h4><p>本文使用该方法！！！</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs auto">npm i fabric --save<br></code></pre></td></tr></table></figure>

<p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/460f050b671f4a9b8b67045c1f084bd9~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="002.png"></p>
<p>安装完后，<code>package.json</code> 会出现箭头指向的那行代码。</p>
<hr>
<h2 id="起步"><a href="#起步" class="headerlink" title="起步"></a>起步</h2><p>只需 <strong>3个操作</strong> 就能展示点东西了。</p>
<h3 id="1-新建页面并引入-Fabric-js"><a href="#1-新建页面并引入-Fabric-js" class="headerlink" title="1. 新建页面并引入 Fabric.js"></a>1. 新建页面并引入 Fabric.js</h3><p>如果是原生项目，使用 <code>&lt;script&gt;</code> 标签引入即可：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;script src=&quot;https://unpkg.com/fabric@4.6.0/dist/fabric.min.js&quot;&gt;&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p>本文使用了 <code>Vite</code> 构建的项目，所以可以使用 <code>import</code> 引入</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs auto">import &#123; fabric &#125; from &#x27;fabric&#x27;<br></code></pre></td></tr></table></figure>

<h3 id="2-创建-canvas-容器"><a href="#2-创建-canvas-容器" class="headerlink" title="2. 创建 canvas 容器"></a>2. 创建 canvas 容器</h3><p>在 <code>HTML</code> 中创建 <code>&lt;canvas&gt;</code>，并设置容器的 <code>id</code> 和 <code>宽高，width/height</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;canvas width=&quot;400&quot; height=&quot;400&quot; id=&quot;c&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br></code></pre></td></tr></table></figure>

<p>这里创建了一个 <code>canvas</code> 容器，**id&#x3D;”c”**。</p>
<p>指定长宽都为 <code>400px</code> ，值得注意的是，这里不需要加 <code>px</code> 这个单位。</p>
<p><code>style=&quot;border: 1px solid #ccc;&quot;</code> 这句其实可以不加，这里只是为了在浏览器看到 <code>canvas</code> 元素到底在哪。</p>
<p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9f7c1c07c4054a8abbb7e4b8c98a0b1c~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="003.png"></p>
<h3 id="3-使用-fabric-接管容器，并画一个矩形"><a href="#3-使用-fabric-接管容器，并画一个矩形" class="headerlink" title="3. 使用 fabric 接管容器，并画一个矩形"></a>3. 使用 fabric 接管容器，并画一个矩形</h3><p>在 <code>JS</code> 中实例化 <code>fabric</code> ，之后就可以使用 <code>fabric</code> 的 <code>api</code> 管理 <code>canvas</code> 了。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27; // 引入 fabric<br><br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;c&#x27;) // 这里传入的是canvas的id<br><br>  // 创建一个长方形<br>  const rect = new fabric.Rect(&#123;<br>    top: 30, // 距离容器顶部 30px<br>    left: 30, // 距离容器左侧 30px<br>    width: 100, // 宽 100px<br>    height: 60, // 高 60px<br>    fill: &#x27;red&#x27; // 填充 红色<br>  &#125;)<br><br>  // 在canvas画布中加入矩形（rect）。add是“添加”的意思<br>  canvas.add(rect)<br>&#125;<br><br>// 需要在页面容器加载完才能开始初始化（页面加载完才找到 canvas 元素）<br>// onMounted 是 Vue3 提供的一个页面生命周期函数：实例被挂载后调用。<br>// onMounted 官方文档说明：https://v3.cn.vuejs.org/guide/composition-api-lifecycle-hooks.html<br>onMounted(() =&gt; &#123;<br>  init() // 执行初始化函数<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p>详情请看代码中每一行注释。</p>
<p><code>&lt;script setup&gt;</code> 是 <code>Vue 3.2</code> 的一个新语法，普通项目直接使用 <code>&lt;script&gt;</code> 就行了。</p>
<p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d084f62d3a4e4be4a0558f40496d07d9~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="004.png"></p>
<p>就算我不写备注也可以看出 <code>Fabric.js</code> 的代码是极具语义化的，看单词就大概能猜出代码效果。</p>
<p>如果是用原生的 <code>canvas</code> 方法来写，没了解过的同学根本看不懂在写啥。</p>
<hr>
<h2 id="画布"><a href="#画布" class="headerlink" title="画布"></a>画布</h2><p><code>Fabric.js</code> 的画布操作性是非常强的，这里我列举几个常用例子，其他操作可以查看官方文档。</p>
<p><a target="_blank" rel="noopener" href="http://fabricjs.com/docs/fabric.Canvas.html" title="http://fabricjs.com/docs/fabric.Canvas.html">『Fabric.js 画布操作 - 文档』</a></p>
<p><a target="_blank" rel="noopener" href="http://k21vin.gitee.io/front-end-data-visualization/#/fabric/fabric-basic/fabric-stated" title="http://k21vin.gitee.io/front-end-data-visualization/#/fabric/fabric-basic/fabric-stated">🎁 本节案例在线预览 - 画布</a></p>
<p><a target="_blank" rel="noopener" href="https://gitee.com/k21vin/front-end-data-visualization/blob/master/src/views/FabricJS/Basic/pages/Stated/Stated.vue" title="https://gitee.com/k21vin/front-end-data-visualization/blob/master/src/views/FabricJS/Basic/pages/Stated/Stated.vue">🎁 本节代码仓库</a></p>
<h3 id="基础版（可交互）"><a href="#基础版（可交互）" class="headerlink" title="基础版（可交互）"></a>基础版（可交互）</h3><p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5b6fb1a2b7b84b638faaadc8a6863769~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="005.gif"></p>
<p>基础版就是“起步”章节所说的那个例子。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;canvas width=&quot;400&quot; height=&quot;400&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27; // 引入 fabric<br><br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;) // 这里传入的是canvas元素的id<br><br>  // 创建一个长方形<br>  const rect = new fabric.Rect(&#123;<br>    top: 100, // 距离容器顶部 100px<br>    left: 100, // 距离容器左侧 100px<br>    width: 30, // 矩形宽度 30px<br>    height: 30, // 矩形高度 30px<br>    fill: &#x27;red&#x27; // 填充 红色<br>  &#125;)<br><br>  canvas.add(rect) // 将矩形添加到 canvas 画布里<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<h3 id="不可交互"><a href="#不可交互" class="headerlink" title="不可交互"></a>不可交互</h3><p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/13c007bac023470b96aa282f31f4e4d5~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="006.gif"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;canvas width=&quot;400&quot; height=&quot;400&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27; // 引入 fabric<br><br>function init() &#123;<br>  // 使用 StaticCanvas 创建一个不可操作的画布<br>  const canvas = new fabric.StaticCanvas(&#x27;canvas&#x27;) // 这里传入的是canvas元素的id<br><br>  // 创建一个长方形<br>  const rect = new fabric.Rect(&#123;<br>    top: 100, // 距离容器顶部 100px<br>    left: 100, // 距离容器左侧 100px<br>    width: 30, // 矩形宽度 30px<br>    height: 30, // 矩形高度 30px<br>    fill: &#x27;red&#x27; // 填充 红色<br>  &#125;)<br><br>  canvas.add(rect) // 将矩形添加到 canvas 画布里<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p>创建不可交互的画布，其实只需把 <code>new fabric.Canvas</code> 改成 <code>new fabric.StaticCanvas</code> 即可。</p>
<h3 id="在js设定画布参数"><a href="#在js设定画布参数" class="headerlink" title="在js设定画布参数"></a>在js设定画布参数</h3><p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/176165505e4b492daf0d16cbe0167baa~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="007.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;canvas id=&quot;canvas&quot;&gt;&lt;/canvas&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27; // 引入 fabric<br><br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;, &#123;<br>    width: 300, // 画布宽度<br>    height: 300, // 画布高度<br>    backgroundColor: &#x27;#eee&#x27; // 画布背景色<br>  &#125;)<br><br>  // 圆形<br>  const circle = new fabric.Circle(&#123;<br>    radius: 30, // 圆的半径<br>    top: 20, // 距离容器顶部 20px<br>    left: 20, // 距离容器左侧 20px<br>    fill: &#x27;pink&#x27; // 填充 粉色<br>  &#125;)<br>  <br>  canvas.add(circle) // 将圆形添加到 canvas 画布里<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p><code>new fabric.Canvas</code> 的第二个参数是用来设置画布基础功能的。更多配置参数可以查看 <a target="_blank" rel="noopener" href="http://fabricjs.com/docs/fabric.Canvas.html" title="http://fabricjs.com/docs/fabric.Canvas.html">『官方文档』</a>。</p>
<h3 id="使用背景图"><a href="#使用背景图" class="headerlink" title="使用背景图"></a>使用背景图</h3><p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/498f2c6d4ef04e41be0ef58fecc4b9f9~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="008.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;canvas width=&quot;400&quot; height=&quot;400&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  // 设置背景图<br>  // 参数1：背景图资源（可以引入本地，也可以使用网络图）<br>  // 参数2：设置完背景图执行以下重新渲染canvas的操作，这样背景图就会展示出来了<br>  canvas.setBackgroundImage(<br>    &#x27;https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/27d1b4e5f8824198b6d51a2b1c2d0d75~tplv-k3u1fbpfcp-zoom-crop-mark:400:400:400:400.awebp&#x27;,<br>    canvas.renderAll.bind(canvas)<br>  )<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p><code>setBackgroundImage</code> 这个很好懂，设置背景图片。</p>
<p>需要注意的是，在 <code>Fabric.js</code> 里使用 <code>gif</code> 只会渲染第一帧。</p>
<h3 id="旋转背景图"><a href="#旋转背景图" class="headerlink" title="旋转背景图"></a>旋转背景图</h3><p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/73354c5cc3d74a5997f6bdb9054574c3~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="009.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;canvas width=&quot;400&quot; height=&quot;400&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  // 设置背景图<br>  // 参数1：背景图资源（可以引入本地，也可以使用网络图）<br>  // 参数2：设置完背景图执行以下重新渲染canvas的操作，这样背景图就会展示出来了<br>  canvas.setBackgroundImage(<br>    &#x27;https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/27d1b4e5f8824198b6d51a2b1c2d0d75~tplv-k3u1fbpfcp-zoom-crop-mark:400:400:400:400.awebp&#x27;,<br>    canvas.renderAll.bind(canvas),<br>    &#123;<br>      angle: 15 // 旋转背景图<br>    &#125;<br>  )<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p><code>setBackgroundImage</code> 还有第三个参数，嘿嘿嘿没想到吧</p>
<p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/645edaa4dfac47ccb0a1fbd0230eae8e~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="010.png"></p>
<p>第三个参数除了旋转，还可以设置 <code>scaleX</code>、<code>scaleY</code> 之类的操作。</p>
<p>更多设置可以查看 <a target="_blank" rel="noopener" href="http://fabricjs.com/docs/fabric.Image.html" title="http://fabricjs.com/docs/fabric.Image.html">『文档』</a> 。</p>
<p>但这个例子存在一个问题，如果图片的尺寸没 <code>canvas</code> 容器大，就填不满，否则就溢出（只显示图片的局部）。</p>
<p>解决方案请看下一个案例。</p>
<h3 id="拉伸背景图"><a href="#拉伸背景图" class="headerlink" title="拉伸背景图"></a>拉伸背景图</h3><p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c429db185578406f91608e918bd6eb2b~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="011.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;canvas width=&quot;400&quot; height=&quot;400&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  // fabric.Image.fromURL：加载图片的api<br>  // 第一个参数：图片地址（可以是本地的，也可以是网络图）<br>  // 第二个参数：图片加载的回调函数<br>  fabric.Image.fromURL(<br>    &#x27;https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/27d1b4e5f8824198b6d51a2b1c2d0d75~tplv-k3u1fbpfcp-zoom-crop-mark:400:400:400:400.awebp&#x27;,<br>    (img) =&gt; &#123;<br>      // 设置背景图<br>      canvas.setBackgroundImage(<br>        img,<br>        canvas.renderAll.bind(canvas),<br>        &#123;<br>          scaleX: canvas.width / img.width, // 计算出图片要拉伸的宽度<br>          scaleY: canvas.height / img.height // 计算出图片要拉伸的高度<br>        &#125;<br>      )<br>    &#125;<br>  )<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p>这个例子使用了 <code>fabric.Image.fromURL</code> 这个 <code>api</code> 来加载图片，第一个参数是图片地址，第二个参数是回调函数。</p>
<p>拿到图片的参数和画布的宽高进行计算，从而使图片充满全屏。</p>
<h3 id="重复背景图"><a href="#重复背景图" class="headerlink" title="重复背景图"></a>重复背景图</h3><p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/25312985f91d45869166cae26d25dfc9~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="012.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;canvas width=&quot;400&quot; height=&quot;400&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  canvas.setBackgroundColor(&#123;<br>    source: &#x27;https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/27d1b4e5f8824198b6d51a2b1c2d0d75~tplv-k3u1fbpfcp-zoom-crop-mark:40:40:40:40.awebp&#x27;,<br>    repeat: &#x27;repeat&#x27;<br>  &#125;, canvas.renderAll.bind(canvas))<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p>这个例子使用的图片尺寸是比较小的，所以在 <code>setBackgroundColor</code> 的第3个参数中设置了 <code>repeat: &#39;repeat&#39;</code> ，表示重复渲染图片。</p>
<h3 id="重叠影象"><a href="#重叠影象" class="headerlink" title="重叠影象"></a>重叠影象</h3><p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cf054e32008e4c26b3d00503594897b7~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="013.gif"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;canvas width=&quot;400&quot; height=&quot;375&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br>import jailCellBars from &#x27;@/assets/images/jail_cell_bars.png&#x27; // 引入背景图<br><br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  canvas.add(<br>    new fabric.Circle(&#123;<br>      radius: 30, // 圆形半径<br>      fill: &#x27;#f55&#x27;,<br>      top: 70,<br>      left: 70<br>    &#125;)<br>  )<br><br>  // 设置覆盖图像的画布<br>  canvas.setOverlayImage( // setOverlayImage(image, callback, optionsopt)<br>    jailCellBars, // 图片，script开头import进来的<br>    canvas.renderAll.bind(canvas)<br>  )<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p>值得注意的2点：</p>
<ol>
<li>使用 <code>canvas.setOverlayImage</code> 代替原本的 <code>canvas.setBackgroundImage</code> 。</li>
<li>所使用的图片最好是带透明层的 <code>png</code> ，这样就能展示案例所示的效果，背景图叠在图案元素上面。</li>
</ol>
<p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5d1d3afcea2b4dbb9c68d3889ef9a5ab~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="014.png"></p>
<p><a target="_blank" rel="noopener" href="https://gitee.com/k21vin/front-end-data-visualization/blob/master/src/assets/images/jail_cell_bars.png" title="https://gitee.com/k21vin/front-end-data-visualization/blob/master/src/assets/images/jail_cell_bars.png">🎁 本例所使用的图片地址</a></p>
<hr>
<h2 id="基础图形"><a href="#基础图形" class="headerlink" title="基础图形"></a>基础图形</h2><p><code>Fabric.js</code> 提供了以下几种基础图形：</p>
<ul>
<li><a target="_blank" rel="noopener" href="http://fabricjs.com/docs/fabric.Rect.html" title="http://fabricjs.com/docs/fabric.Rect.html">『矩形』</a></li>
<li><a target="_blank" rel="noopener" href="http://fabricjs.com/docs/fabric.Circle.html" title="http://fabricjs.com/docs/fabric.Circle.html">『圆形』</a></li>
<li><a target="_blank" rel="noopener" href="http://fabricjs.com/docs/fabric.Ellipse.html" title="http://fabricjs.com/docs/fabric.Ellipse.html">『椭圆形』</a></li>
<li><a target="_blank" rel="noopener" href="http://fabricjs.com/docs/fabric.Triangle.html" title="http://fabricjs.com/docs/fabric.Triangle.html">『三角形』</a></li>
<li><a target="_blank" rel="noopener" href="http://fabricjs.com/docs/fabric.Line.html" title="http://fabricjs.com/docs/fabric.Line.html">『线段』</a></li>
<li><a target="_blank" rel="noopener" href="http://fabricjs.com/docs/fabric.Polyline.html" title="http://fabricjs.com/docs/fabric.Polyline.html">『折线』</a></li>
<li><a target="_blank" rel="noopener" href="http://fabricjs.com/docs/fabric.Polygon.html" title="http://fabricjs.com/docs/fabric.Polygon.html">『多边形』</a></li>
</ul>
<p><a target="_blank" rel="noopener" href="http://k21vin.gitee.io/front-end-data-visualization/#/fabric/fabric-basic/fabric-basic-graph" title="http://k21vin.gitee.io/front-end-data-visualization/#/fabric/fabric-basic/fabric-basic-graph">🎁 本节案例在线预览 - 基础图形</a></p>
<p><a target="_blank" rel="noopener" href="https://gitee.com/k21vin/front-end-data-visualization/blob/master/src/views/FabricJS/Basic/pages/BasicGraph/BasicGraph.vue" title="https://gitee.com/k21vin/front-end-data-visualization/blob/master/src/views/FabricJS/Basic/pages/BasicGraph/BasicGraph.vue">🎁 本节代码仓库</a></p>
<h3 id="矩形"><a href="#矩形" class="headerlink" title="矩形"></a>矩形</h3><p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a400fb05bd02479f8687e937974545ce~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="015.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;canvas width=&quot;400&quot; height=&quot;375&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;) // 绑定canvas，传入id<br><br>  const rect = new fabric.Rect(&#123;<br>    top: 100, // 距离容器顶部 100px<br>    left: 100, // 距离容器左侧 100px<br>    fill: &#x27;orange&#x27;, // 填充 橙色<br>    width: 100, // 宽度 100px<br>    height: 100 // 高度 100px<br>  &#125;)<br>  <br>  // 将矩形添加到画布中<br>  canvas.add(rect)<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p>使用 <code>new fabric.Rect</code> 创建 <strong>矩形</strong>。</p>
<h3 id="圆角矩形"><a href="#圆角矩形" class="headerlink" title="圆角矩形"></a>圆角矩形</h3><p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c6dac24cbf214274a6b114fae91efa76~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="016.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;canvas width=&quot;400&quot; height=&quot;375&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;) // 绑定canvas，传入id<br><br>  const rect = new fabric.Rect(&#123;<br>    top: 100, // 距离容器顶部 100px<br>    left: 100, // 距离容器左侧 100px<br>    fill: &#x27;orange&#x27;, // 填充 橙色<br>    width: 100, // 宽度 100px<br>    height: 100, // 高度 100px<br>    rx: 20, // x轴的半径<br>    ry: 20 // y轴的半径<br>  &#125;)<br>  <br>  // 将矩形添加到画布中<br>  canvas.add(rect)<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p>画圆角矩形，需要添加 <code>rx</code> 和 <code>ry</code>，这两个属性的值可以不一样，如果知道 <code>css</code> 圆角的原理，其实对 <code>rx</code> 和 <code>ry</code> 不难理解。</p>
<p>自己修改一下这两个值看看效果理解会更深刻。</p>
<h3 id="圆形"><a href="#圆形" class="headerlink" title="圆形"></a>圆形</h3><p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9bc79d1101c14668a5b255a8bce076fe~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="017.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;canvas width=&quot;400&quot; height=&quot;375&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  const circle = new fabric.Circle(&#123;<br>    top: 100,<br>    left: 100,<br>    radius: 50, // 圆的半径 50<br>    fill: &#x27;green&#x27;<br>  &#125;)<br>  canvas.add(circle)<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p>使用 <code>new fabric.Circle</code> 创建<strong>圆形</strong>。</p>
<p>圆形需要使用 <code>radius</code> 设置半径大小。</p>
<h3 id="椭圆形"><a href="#椭圆形" class="headerlink" title="椭圆形"></a>椭圆形</h3><p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2b0cb372e13d4c8899e9d7a239193c6b~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="018.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;canvas width=&quot;400&quot; height=&quot;375&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  const ellipse = new fabric.Ellipse(&#123;<br>    top: 20,<br>    left: 20,<br>    rx: 70,<br>    ry: 30,<br>    fill: &#x27;hotpink&#x27;<br>  &#125;)<br>  canvas.add(ellipse)<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p>需要使用 <code>new fabric.Ellipse</code> 创建 <strong>椭圆</strong>。</p>
<p>和圆形不同，椭圆不需要设置 <code>radius</code> ，但要设置 <code>rx</code> 和 <code>ry</code>。</p>
<ul>
<li>当 <code>rx</code> &gt; <code>ry</code> ：椭圆是横着的</li>
<li>当 <code>rx</code> &lt; <code>ry</code>：椭圆是竖着的</li>
<li>当 <code>rx</code> &#x3D; <code>ry</code>： 看上去就是个圆形</li>
</ul>
<h3 id="三角形"><a href="#三角形" class="headerlink" title="三角形"></a>三角形</h3><p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/dee26fa9aca542aa80f0d1158eebd87d~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="019.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;canvas width=&quot;400&quot; height=&quot;375&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  const triangle = new fabric.Triangle(&#123;<br>    top: 100,<br>    left: 100,<br>    width: 80, // 底边长度<br>    height: 100, // 底边到对角的距离<br>    fill: &#x27;blue&#x27;<br>  &#125;)<br>  canvas.add(triangle)<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p>使用 <code>new fabric.Triangle</code> 创建三角形，三角形是需要给定 “底和高” 的。</p>
<h3 id="线段"><a href="#线段" class="headerlink" title="线段"></a>线段</h3><p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/13392d82e58c4bd0b6dc60e8a291a431~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="020.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;canvas width=&quot;400&quot; height=&quot;375&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  const line = new fabric.Line(<br>    [<br>      10, 10, // 起始点坐标<br>      200, 300 // 结束点坐标<br>    ],<br>    &#123;<br>      stroke: &#x27;red&#x27;, // 笔触颜色<br>    &#125;<br>  )<br>  canvas.add(line)<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p>使用 <code>new fabric.Line</code> 创建线段。</p>
<p><code>new fabric.Line</code> 需要传入2个参数。</p>
<ul>
<li><p>第一个参数是 <strong>数组</strong> ，数组需要传4个值，<strong>前2个值是起始坐标的x和y，后2个值是结束坐标的x和y</strong>。</p>
</li>
<li><p>第二个参数是 <strong>线段的样式</strong>，要设置线段的颜色，需要使用 <code>stroke</code> 。</p>
</li>
</ul>
<h3 id="折线"><a href="#折线" class="headerlink" title="折线"></a>折线</h3><p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7235d936a51c4c988c3434a8d03e71f4~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="021.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;canvas width=&quot;400&quot; height=&quot;375&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  const polyline = new fabric.Polyline([<br>    &#123;x: 30, y: 30&#125;,<br>    &#123;x: 150, y: 140&#125;,<br>    &#123;x: 240, y: 150&#125;,<br>    &#123;x: 100, y: 30&#125;<br>  ], &#123;<br>    fill: &#x27;transparent&#x27;, // 如果画折线，需要填充透明<br>    stroke: &#x27;#6639a6&#x27;, // 线段颜色：紫色<br>    strokeWidth: 5 // 线段粗细 5<br>  &#125;)<br>  canvas.add(polyline)<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p>使用 <code>new fabric.Polyline</code> 创建<strong>线段</strong> 。</p>
<p><code>new fabric.Polyline</code> 需要传入2个参数。</p>
<ul>
<li>第一个参数是数组，描述线段的每一个点</li>
<li>第二个参数用来描述线段样式</li>
</ul>
<p>需要注意的是， <code>fill</code> 设置成透明才会显示成线段，如果不设置，会默认填充黑色，如下图所示：</p>
<p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/75666137555645ecad529562c10df952~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="022.png"></p>
<p>你也可以填充自己喜欢的颜色，<code>new fabric.Polyline</code> 是不会自动把 <strong>起始点</strong> 和 <strong>结束点</strong> 自动闭合起来的。</p>
<h3 id="多边形"><a href="#多边形" class="headerlink" title="多边形"></a>多边形</h3><p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/aabc5791f6074f72bc6411fe951079bf~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="023.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;canvas width=&quot;400&quot; height=&quot;375&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  const polygon = new fabric.Polygon([<br>    &#123;x: 30, y: 30&#125;,<br>    &#123;x: 150, y: 140&#125;,<br>    &#123;x: 240, y: 150&#125;,<br>    &#123;x: 100, y: 30&#125;<br>  ], &#123;<br>    fill: &#x27;#ffd3b6&#x27;, // 填充色<br>    stroke: &#x27;#6639a6&#x27;, // 线段颜色：紫色<br>    strokeWidth: 5 // 线段粗细 5<br>  &#125;)<br>  canvas.add(polygon)<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p>使用 <code>new fabric.Polygon</code> 绘制多边形，用法和 <code>new fabric.Polyline</code> 差不多，但最大的不同点是 <code>new fabric.Polygon</code> 会自动把 <strong>起始点</strong> 和 <strong>结束点</strong> 连接起来。</p>
<hr>
<h2 id="绘制路径"><a href="#绘制路径" class="headerlink" title="绘制路径"></a>绘制路径</h2><p><a target="_blank" rel="noopener" href="http://fabricjs.com/docs/fabric.Path.html" title="http://fabricjs.com/docs/fabric.Path.html">『Fabric.js 路径Path - 文档』</a></p>
<p><a target="_blank" rel="noopener" href="http://k21vin.gitee.io/front-end-data-visualization/#/fabric/fabric-basic/fabric-draw-path" title="http://k21vin.gitee.io/front-end-data-visualization/#/fabric/fabric-basic/fabric-draw-path">🎁 本节案例在线预览 - 绘制路径</a></p>
<p><a target="_blank" rel="noopener" href="https://gitee.com/k21vin/front-end-data-visualization/blob/master/src/views/FabricJS/Basic/pages/DrawPath/DrawPath.vue" title="https://gitee.com/k21vin/front-end-data-visualization/blob/master/src/views/FabricJS/Basic/pages/DrawPath/DrawPath.vue">🎁 本节代码仓库</a></p>
<p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ef295b8df2a24ccfb9d6e563c54d6ac9~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="024.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;canvas width=&quot;400&quot; height=&quot;375&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  // 绘制路径<br>  const path = new fabric.Path(&#x27;M 0 0 L 200 100 L 170 200 z&#x27;)<br>  path.set(&#123;<br>    top: 50, // 距离容器顶部距离 50px<br>    left: 50, // 距离容器左侧距离 50px<br>    fill: &#x27;hotpink&#x27;, // 填充 亮粉色<br>    opacity: 0.5, // 不透明度 50%<br>    stroke: &#x27;black&#x27;, // 描边颜色 黑色<br>    strokeWidth: 10 // 描边粗细 10px<br>  &#125;)<br>  canvas.add(path)<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p>使用 <code>new fabric.Path</code> 创建路径。</p>
<ul>
<li>M：可以理解为新的起始点x，y坐标</li>
<li>L：每个折点的x，y坐标</li>
<li>z：自动闭合（自动把结束点和起始点连接起来）</li>
</ul>
<hr>
<h2 id="文本"><a href="#文本" class="headerlink" title="文本"></a>文本</h2><p><code>Fabric.js</code> 有3类跟文本相关的 <code>api</code>。</p>
<ul>
<li><p>普通文本</p>
</li>
<li><p>可编辑文本</p>
</li>
<li><p>文本框</p>
</li>
</ul>
<h3 id="普通文本-Text"><a href="#普通文本-Text" class="headerlink" title="普通文本 Text"></a>普通文本 Text</h3><p><a target="_blank" rel="noopener" href="http://fabricjs.com/docs/fabric.Text.html" title="http://fabricjs.com/docs/fabric.Text.html">『Fabric.js 文本 - 文档』</a></p>
<p><a target="_blank" rel="noopener" href="http://k21vin.gitee.io/front-end-data-visualization/#/fabric/fabric-basic/fabric-text" title="http://k21vin.gitee.io/front-end-data-visualization/#/fabric/fabric-basic/fabric-text">🎁 本节案例在线预览 - 普通文本</a></p>
<p><a target="_blank" rel="noopener" href="https://gitee.com/k21vin/front-end-data-visualization/blob/master/src/views/FabricJS/Basic/pages/Text/Text.vue" title="https://gitee.com/k21vin/front-end-data-visualization/blob/master/src/views/FabricJS/Basic/pages/Text/Text.vue">🎁 本节代码仓库</a></p>
<p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9678de5d63ca4f76950ff1b5fa3e10ed~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="025.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;canvas width=&quot;400&quot; height=&quot;400&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  const text = new fabric.Text(&#x27;雷猴啊&#x27;)<br>  canvas.add(text)<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p>使用 <code>new fabric.Text</code> 创建文本，传入第一个参数就是文本内容。</p>
<p><code>new fabric.Text</code> 还支持第二个参数，可以设置文本样式，这方面内容将在下一章讲到，往下滑动页面就能见到。</p>
<h3 id="可编辑文本-IText"><a href="#可编辑文本-IText" class="headerlink" title="可编辑文本 IText"></a>可编辑文本 IText</h3><p><a target="_blank" rel="noopener" href="http://fabricjs.com/docs/fabric.IText.html" title="http://fabricjs.com/docs/fabric.IText.html">『Fabric.js 可编辑的文本 - 文档』</a></p>
<p><a target="_blank" rel="noopener" href="http://k21vin.gitee.io/front-end-data-visualization/#/fabric/fabric-basic/fabric-i-text" title="http://k21vin.gitee.io/front-end-data-visualization/#/fabric/fabric-basic/fabric-i-text">🎁 本节案例在线预览 - 可编辑的文本</a></p>
<p><a target="_blank" rel="noopener" href="https://gitee.com/k21vin/front-end-data-visualization/blob/master/src/views/FabricJS/Basic/pages/IText/IText.vue" title="https://gitee.com/k21vin/front-end-data-visualization/blob/master/src/views/FabricJS/Basic/pages/IText/IText.vue">🎁 本节代码仓库</a></p>
<p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b4a77b5891ee4e059a79fce931d1f72e~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="026.gif"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;canvas width=&quot;400&quot; height=&quot;400&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  const itext = new fabric.IText(&#x27;雷猴啊&#x27;)<br>  canvas.add(itext)<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p>使用 <code>new fabric.IText</code> 可以创建<strong>可编辑文本</strong>，用法和 <code>new fabric.Text</code> 一样。</p>
<p><code>IText</code> 比 <code>Text</code> 多了个大写 “I” 在首字母上。</p>
<h3 id="文本框-Textbox"><a href="#文本框-Textbox" class="headerlink" title="文本框 Textbox"></a>文本框 Textbox</h3><p><a target="_blank" rel="noopener" href="http://fabricjs.com/docs/fabric.Textbox.html" title="http://fabricjs.com/docs/fabric.Textbox.html">『Fabric.js 文本框 - 文档』</a></p>
<p><a target="_blank" rel="noopener" href="http://k21vin.gitee.io/front-end-data-visualization/#/fabric/fabric-basic/fabric-text-box" title="http://k21vin.gitee.io/front-end-data-visualization/#/fabric/fabric-basic/fabric-text-box">🎁 本节案例在线预览 - 文本框</a></p>
<p><a target="_blank" rel="noopener" href="https://gitee.com/k21vin/front-end-data-visualization/blob/master/src/views/FabricJS/Basic/pages/Textbox/Textbox.vue" title="https://gitee.com/k21vin/front-end-data-visualization/blob/master/src/views/FabricJS/Basic/pages/Textbox/Textbox.vue">🎁 本节代码仓库</a></p>
<p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/98b5bf9b4e6b4f32a321782d26acac57~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="027.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;canvas width=&quot;400&quot; height=&quot;400&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  const textbox = new fabric.Textbox(&#x27;Lorum ipsum dolor sit amet&#x27;, &#123;<br>    width: 250<br>  &#125;)<br>  canvas.add(textbox)<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p>使用 <code>new fabric.Textbox</code> 可以创建文本框。</p>
<p><code>new fabric.Textbox</code> 第二个参数是对象，使用 <code>width</code> 可以设定了文本框的宽度，文本内容超过设定的宽度会自动换行。</p>
<p><code>new fabric.Textbox</code> 的内容同样是<strong>可编辑</strong>的。</p>
<hr>
<h2 id="基础样式"><a href="#基础样式" class="headerlink" title="基础样式"></a>基础样式</h2><h3 id="图形常用样式"><a href="#图形常用样式" class="headerlink" title="图形常用样式"></a>图形常用样式</h3><p>其实样式属性是非常多的，这里只列举常用的属性，其他属性可以自行查阅官方文档。</p>
<p>本例以圆形为例（不要在意配色，我随便输入颜色演示一下）</p>
<p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9003cbea88f64f97827c97a1551b385b~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="028.gif"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;canvas width=&quot;400&quot; height=&quot;400&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  const circle = new fabric.Circle(&#123;<br>    top: 100,<br>    left: 100,<br>    radius: 50, // 半径：50px<br>    backgroundColor: &#x27;green&#x27;, // 背景色：绿色<br>    fill: &#x27;orange&#x27;, // 填充色：橙色<br>    stroke: &#x27;#f6416c&#x27;, // 边框颜色：粉色<br>    strokeWidth: 5, // 边框粗细：5px<br>    strokeDashArray: [20, 5, 14], // 边框虚线规则：填充20px 空5px 填充14px 空20px 填充5px ……<br>    shadow: &#x27;10px 20px 6px rgba(10, 20, 30, 0.4)&#x27;, // 投影：向右偏移10px，向下偏移20px，羽化6px，投影颜色及透明度<br>    transparentCorners: false, // 选中时，角是被填充了。true 空心；false 实心<br>    borderColor: &#x27;#16f1fc&#x27;, // 选中时，边框颜色：天蓝<br>    borderScaleFactor: 5, // 选中时，边的粗细：5px<br>    borderDashArray: [20, 5, 10, 7], // 选中时，虚线边的规则<br>    cornerColor: &quot;#a1de93&quot;, // 选中时，角的颜色是 青色<br>    cornerStrokeColor: &#x27;pink&#x27;, // 选中时，角的边框的颜色是 粉色<br>    cornerStyle: &#x27;circle&#x27;, // 选中时，叫的属性。默认rect 矩形；circle 圆形<br>    cornerSize: 20, // 选中时，角的大小为20<br>    cornerDashArray: [10, 2, 6], // 选中时，虚线角的规则<br>    selectionBackgroundColor: &#x27;#7f1300&#x27;, // 选中时，选框的背景色：朱红<br>    padding: 40, // 选中时，选择框离元素的内边距：40px<br>    borderOpacityWhenMoving: 0.6, // 当对象活动和移动时，对象控制边界的不透明度  <br>  &#125;)<br><br>  canvas.add(circle)<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p>上面这个例子的样式分为<strong>正常状态</strong>和<strong>被选中状态</strong>，详情请看代码注释。</p>
<h3 id="文本常用样式"><a href="#文本常用样式" class="headerlink" title="文本常用样式"></a>文本常用样式</h3><p><a target="_blank" rel="noopener" href="http://k21vin.gitee.io/front-end-data-visualization/#/fabric/fabric-basic/fabric-text" title="http://k21vin.gitee.io/front-end-data-visualization/#/fabric/fabric-basic/fabric-text">🎁 本节案例在线预览 - 文本样式</a></p>
<p><a target="_blank" rel="noopener" href="https://gitee.com/k21vin/front-end-data-visualization/blob/master/src/views/FabricJS/Basic/pages/Text/Text.vue" title="https://gitee.com/k21vin/front-end-data-visualization/blob/master/src/views/FabricJS/Basic/pages/Text/Text.vue">🎁 本节代码仓库</a></p>
<p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5397bba4da434acfa07f376baee81e9e~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="029.gif"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;canvas width=&quot;400&quot; height=&quot;400&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  const text = new fabric.Text(&#x27;雷猴&#x27;, &#123;<br>    top: 40,<br>    left: 40,<br>    fontSize: 120,<br>    backgroundColor: &#x27;green&#x27;, // 背景色：绿色<br>    fill: &#x27;orange&#x27;, // 填充色：橙色<br>    stroke: &#x27;#f6416c&#x27;, // 边框颜色：粉色<br>    strokeWidth: 3, // 边框粗细：3px<br>    strokeDashArray: [20, 5, 14], // 边框虚线规则：填充20px 空5px 填充14px 空20px 填充5px ……<br>    shadow: &#x27;10px 20px 6px rgba(10, 20, 30, 0.4)&#x27;, // 投影：向右偏移10px，向下偏移20px，羽化6px，投影颜色及透明度<br>    transparentCorners: false, // 选中时，角是被填充了。true 空心；false 实心<br>    borderColor: &#x27;#16f1fc&#x27;, // 选中时，边框颜色：天蓝<br>    borderScaleFactor: 5, // 选中时，边的粗细：5px<br>    borderDashArray: [20, 5, 10, 7], // 选中时，虚线边的规则<br>    cornerColor: &quot;#a1de93&quot;, // 选中时，角的颜色是 青色<br>    cornerStrokeColor: &#x27;pink&#x27;, // 选中时，角的边框的颜色是 粉色<br>    cornerStyle: &#x27;circle&#x27;, // 选中时，叫的属性。默认rect 矩形；circle 圆形<br>    cornerSize: 20, // 选中时，角的大小为20<br>    cornerDashArray: [10, 2, 6], // 选中时，虚线角的规则<br>    selectionBackgroundColor: &#x27;#7f1300&#x27;, // 选中时，选框的背景色：朱红<br>    padding: 40, // 选中时，选择框离元素的内边距：40px<br>    borderOpacityWhenMoving: 0.6, // 当对象活动和移动时，对象控制边界的不透明度  <br>  &#125;)<br><br>  canvas.add(text)<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p>除此之外，还可以配置 <strong>上划线</strong> 、<strong>下划线</strong> 、<strong>删除线</strong> 、<strong>左对齐</strong> 、 <strong>右对齐</strong> 、 <strong>居中对齐</strong> 、 <strong>行距</strong> 等。</p>
<p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9129312f8172445494c41d9224aad3f5~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="030.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;canvas width=&quot;600&quot; height=&quot;400&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  // 上划线<br>  const overline = new fabric.Text(&#x27;上划线&#x27;, &#123;<br>    top: 30,<br>    left: 10,<br>    fontSize: 20,<br>    overline: true, // 上划线<br>  &#125;)<br><br>  // 下划线<br>  const underline = new fabric.Text(&#x27;下划线&#x27;, &#123;<br>    top: 30,<br>    left: 100,<br>    fontSize: 20,<br>    underline: true, // 下划线<br>  &#125;)<br><br>  // 删除线<br>  const linethrough = new fabric.Text(&#x27;删除线&#x27;, &#123;<br>    top: 30,<br>    left: 200,<br>    fontSize: 20,<br>    linethrough: true, // 删除线<br>  &#125;)<br><br>  // 左对齐<br>  const msg1 = &#x27;左\n左左\n左对齐&#x27;<br>  const left = new fabric.Text(msg1, &#123;<br>    top: 100,<br>    left: 10,<br>    fontSize: 16,<br>    textAlign: &#x27;left&#x27;, // 左对齐<br>  &#125;)<br><br>  // 居中对齐<br>  const msg2 = &#x27;中\n中中\n居中对齐&#x27;<br>  const center = new fabric.Text(msg2, &#123;<br>    top: 100,<br>    left: 100,<br>    fontSize: 16,<br>    textAlign: &#x27;center&#x27;,// 居中对齐<br>  &#125;)<br><br>  // 右对齐<br>  const msg3 = &#x27;右\n右右\n右对齐&#x27;<br>  const right = new fabric.Text(msg3, &#123;<br>    top: 100,<br>    left: 200,<br>    fontSize: 16,<br>    textAlign: &#x27;right&#x27;, // 右对齐<br>  &#125;)<br><br>  // 文本内容<br>  const msg4 = &quot;Lorem ipsum dolor sit amet,\nconsectetur adipisicing elit,\nsed do eiusmod tempor incididunt\nut labo&quot;<br>  <br>  const lineHeight1 = new fabric.Text(msg4, &#123;<br>    top: 250,<br>    left: 10,<br>    fontSize: 16,<br>    lineHeight: 1, // 行高<br>  &#125;)<br><br>  const lineHeight2 = new fabric.Text(msg4, &#123;<br>    top: 250,<br>    left: 300,<br>    fontSize: 16,<br>    lineHeight: 2, // 行高<br>  &#125;)<br><br>  canvas.add(<br>    overline,<br>    underline,<br>    linethrough,<br>    left,<br>    center,<br>    right,<br>    lineHeight1,<br>    lineHeight2<br>  )<br><br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p>上面的上划线、下划线、删除线的配置，可以同时使用。</p>
<hr>
<h2 id="渐变"><a href="#渐变" class="headerlink" title="渐变"></a>渐变</h2><p><a target="_blank" rel="noopener" href="http://fabricjs.com/docs/fabric.Gradient.html" title="http://fabricjs.com/docs/fabric.Gradient.html">『Fabric.js 渐变 - 文档』</a></p>
<p><a target="_blank" rel="noopener" href="http://k21vin.gitee.io/front-end-data-visualization/#/fabric/fabric-basic/fabric-gradient" title="http://k21vin.gitee.io/front-end-data-visualization/#/fabric/fabric-basic/fabric-gradient">🎁 本节案例在线预览 - 渐变</a></p>
<p><a target="_blank" rel="noopener" href="https://gitee.com/k21vin/front-end-data-visualization/blob/master/src/views/FabricJS/Basic/pages/Gradient/Gradient.vue" title="https://gitee.com/k21vin/front-end-data-visualization/blob/master/src/views/FabricJS/Basic/pages/Gradient/Gradient.vue">🎁 本节代码仓库</a></p>
<h3 id="线性渐变"><a href="#线性渐变" class="headerlink" title="线性渐变"></a>线性渐变</h3><p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/60e2bf52f3a14f56a1d9f0fd635e3706~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="031.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;canvas width=&quot;600&quot; height=&quot;600&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  let canvas = new fabric.Canvas(&#x27;canvas&#x27;) // 实例化fabric，并绑定到canvas元素上<br><br>  // 圆<br>  let circle = new fabric.Circle(&#123;<br>    left: 100,<br>    top: 100,<br>    radius: 50,<br>  &#125;)<br><br>  // 线性渐变<br>  let gradient = new fabric.Gradient(&#123;<br>    type: &#x27;linear&#x27;, // linear or radial<br>    gradientUnits: &#x27;pixels&#x27;, // pixels or pencentage 像素 或者 百分比<br>    coords: &#123; x1: 0, y1: 0, x2: circle.width, y2: 0 &#125;, // 至少2个坐标对（x1，y1和x2，y2）将定义渐变在对象上的扩展方式<br>    colorStops:[ // 定义渐变颜色的数组<br>      &#123; offset: 0, color: &#x27;red&#x27; &#125;,<br>      &#123; offset: 0.2, color: &#x27;orange&#x27; &#125;,<br>      &#123; offset: 0.4, color: &#x27;yellow&#x27; &#125;,<br>      &#123; offset: 0.6, color: &#x27;green&#x27; &#125;,<br>      &#123; offset: 0.8, color: &#x27;blue&#x27; &#125;,<br>      &#123; offset: 1, color: &#x27;purple&#x27; &#125;,<br>    ]<br>  &#125;)<br>  circle.set(&#x27;fill&#x27;, gradient);<br>  canvas.add(circle)<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<h3 id="径向渐变"><a href="#径向渐变" class="headerlink" title="径向渐变"></a>径向渐变</h3><p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5f0f273a2f4945bea0141e0477dbf63c~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="032.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;canvas width=&quot;600&quot; height=&quot;600&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  let canvas = new fabric.Canvas(&#x27;canvas&#x27;)  // 实例化fabric，并绑定到canvas元素上<br><br>  // 圆<br>  let circle = new fabric.Circle(&#123;<br>    left: 100,<br>    top: 100,<br>    radius: 50,<br>  &#125;)<br><br>  let gradient = new fabric.Gradient(&#123;<br>    type: &#x27;radial&#x27;,<br>    coords: &#123;<br>      r1: 50, // 该属性仅径向渐变可用，外圆半径<br>      r2: 0, // 该属性仅径向渐变可用，外圆半径  <br>      x1: 50, // 焦点的x坐标<br>      y1: 50, // 焦点的y坐标<br>      x2: 50, // 中心点的x坐标<br>      y2: 50, // 中心点的y坐标<br>    &#125;,<br>    colorStops: [<br>      &#123; offset: 0, color: &#x27;#fee140&#x27; &#125;,<br>      &#123; offset: 1, color: &#x27;#fa709a&#x27; &#125;<br>    ]<br>  &#125;)<br><br>  circle.set(&#x27;fill&#x27;, gradient);<br>  canvas.add(circle)<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p><code>r1</code>、<code>r2</code>、<code>x1</code>、<code>y1</code>、<code>x2</code>、<code>y2</code> 这几个参数可以自己修改值然后看看效果，自己亲手改一下会理解得更深刻。</p>
<hr>
<h2 id="使用图片"><a href="#使用图片" class="headerlink" title="使用图片"></a>使用图片</h2><p><a target="_blank" rel="noopener" href="http://fabricjs.com/docs/fabric.Image.html" title="http://fabricjs.com/docs/fabric.Image.html">『Fabric.js 图片 - 文档』</a></p>
<p><a target="_blank" rel="noopener" href="http://k21vin.gitee.io/front-end-data-visualization/#/fabric/fabric-basic/fabric-use-image" title="http://k21vin.gitee.io/front-end-data-visualization/#/fabric/fabric-basic/fabric-use-image">🎁 本节案例在线预览 - 使用图片</a></p>
<p><a target="_blank" rel="noopener" href="https://gitee.com/k21vin/front-end-data-visualization/blob/master/src/views/FabricJS/Basic/pages/UseImage/UseImage.vue" title="https://gitee.com/k21vin/front-end-data-visualization/blob/master/src/views/FabricJS/Basic/pages/UseImage/UseImage.vue">🎁 本节代码仓库</a></p>
<h3 id="方法1：使用HTML的图片"><a href="#方法1：使用HTML的图片" class="headerlink" title="方法1：使用HTML的图片"></a>方法1：使用HTML的图片</h3><p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/51b5bb936931446790cda6314323560c~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="033.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;canvas width=&quot;400&quot; height=&quot;400&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>    &lt;img src=&quot;@/assets/logo.png&quot; id=&quot;logo&quot;&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  const imgElement = document.getElementById(&#x27;logo&#x27;)<br><br>  imgElement.onload = function() &#123;<br>    let imgInstance = new fabric.Image(imgElement, &#123;<br>      left: 100,<br>      top: 100,<br>      width: 200,<br>      height: 200,<br>      angle: 50, // 旋转<br>    &#125;)<br>    canvas.add(imgInstance)<br>  &#125;<br><br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br><br>&lt;style&gt;<br>#logo &#123;<br>  display: none;<br>&#125;<br>&lt;/style&gt;<br><br></code></pre></td></tr></table></figure>

<p>需要使用 <code>onload</code> 方法监听图片是否加载完成。</p>
<p>只有在图片完全加载后再添加到画布上才能展示出来。</p>
<p>使用该方法，如果不想在画布外展示图片，需要使用 <code>display: none;</code> 把图片隐藏起来。</p>
<h3 id="方法2：使用js引入"><a href="#方法2：使用js引入" class="headerlink" title="方法2：使用js引入"></a>方法2：使用js引入</h3><p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2c7ec8b8d4774a3b8dbe47d36e6d6da6~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="034.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;canvas width=&quot;400&quot; height=&quot;400&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br>import logo from &#x27;@/assets/logo.png&#x27; // 引入图片<br><br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  fabric.Image.fromURL(logo, oImg =&gt; &#123;<br>    oImg.scale(0.5) // 缩放<br>    canvas.add(oImg) // 将图片加入到画布<br>  &#125;)<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p>使用 <code>fabric.Image.fromURL</code> 加载图片。</p>
<p>第一个参数是图片资源，可以放入本地图片，也可以放网络图片；</p>
<p>第二个参数是回调函数，图片加载完就可以对图片对象进行操作。</p>
<hr>
<h2 id="图片滤镜"><a href="#图片滤镜" class="headerlink" title="图片滤镜"></a>图片滤镜</h2><p><a target="_blank" rel="noopener" href="http://fabricjs.com/docs/fabric.Image.filters.html" title="http://fabricjs.com/docs/fabric.Image.filters.html">『Fabric.js 图片路径 - 文档』</a></p>
<p><a target="_blank" rel="noopener" href="http://k21vin.gitee.io/front-end-data-visualization/#/fabric/fabric-basic/fabric-filter" title="http://k21vin.gitee.io/front-end-data-visualization/#/fabric/fabric-basic/fabric-filter">🎁 本节案例在线预览 - 图片滤镜</a></p>
<p><a target="_blank" rel="noopener" href="https://gitee.com/k21vin/front-end-data-visualization/blob/master/src/views/FabricJS/Basic/pages/Filter/Filter.vue" title="https://gitee.com/k21vin/front-end-data-visualization/blob/master/src/views/FabricJS/Basic/pages/Filter/Filter.vue">🎁 本节代码仓库</a></p>
<p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/52a174c4768d44f887bd419aeae55b6c~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="035.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;canvas width=&quot;500&quot; height=&quot;500&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br>import gwen from &#x27;@/assets/images/gwen-spider-verse-ah.jpg&#x27;<br><br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  fabric.Image.fromURL(gwen, img =&gt; &#123;<br>    img.scale(0.5) // 图片缩小50%<br>    canvas.add(img)<br>  &#125;)<br><br>  // 单个滤镜<br>  fabric.Image.fromURL(gwen, img =&gt; &#123;<br>    img.scale(0.5) // 图片缩小50%<br>    img.left = 250<br>    // 添加滤镜<br>    img.filters.push(new fabric.Image.filters.Grayscale())<br>    // 图片加载完成之后，应用滤镜效果<br>    img.applyFilters()<br>    canvas.add(img)<br>  &#125;)<br><br>  // 叠加滤镜<br>  // “filters”属性是一个数组，我们可以用数组方法执行任何所需的操作：移除滤镜（pop，splice，shift），添加滤镜（push，unshift，splice），甚至可以组合多个滤镜。当我们调用 applyFilters 时，“filters”数组中存在的任何滤镜将逐个应用，所以让我们尝试创建一个既色偏又明亮（Brightness）的图像。<br>  fabric.Image.fromURL(gwen, img =&gt; &#123;<br>    img.scale(0.5) // 图片缩小50%<br>    // 添加滤镜<br>    img.filters.push(<br>        new fabric.Image.filters.Grayscale(),<br>        new fabric.Image.filters.Sepia(), //色偏<br>        new fabric.Image.filters.Brightness(&#123; brightness: 0.2 &#125;) //亮度<br>    )<br>    // 图片加载完成之后，应用滤镜效果<br>    img.applyFilters()<br>    img.set(&#123;<br>      left: 250,<br>      top: 250,<br>    &#125;)<br><br>    canvas.add(img)<br>  &#125;)<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p>给图片添加滤镜，<code>fabric.Image.fromURL</code> 的回调函数里返回一个图片对象，图片对象可以使用 <code>filters</code> 添加滤镜。</p>
<p><strong>fabric 内置滤镜</strong></p>
<ul>
<li><p>BaseFilter 基本过滤器</p>
</li>
<li><p>Blur 模糊</p>
</li>
<li><p>Brightness 亮度</p>
</li>
<li><p>ColorMatrix 颜色矩阵</p>
</li>
<li><p>Contrast 对比</p>
</li>
<li><p>Convolute 卷积</p>
</li>
<li><p>Gamma 伽玛</p>
</li>
<li><p>Grayscale 灰度</p>
</li>
<li><p>HueRotation 色调旋转</p>
</li>
<li><p>Invert 倒置</p>
</li>
<li><p>Noise 噪音</p>
</li>
<li><p>Pixelate 像素化</p>
</li>
<li><p>RemoveColor 移除颜色</p>
</li>
<li><p>Resize 调整大小</p>
</li>
<li><p>Saturation 饱和</p>
</li>
<li><p>Sepia 色偏</p>
</li>
</ul>
<hr>
<h2 id="转换"><a href="#转换" class="headerlink" title="转换"></a>转换</h2><h3 id="旋转角度-angle"><a href="#旋转角度-angle" class="headerlink" title="旋转角度 angle"></a>旋转角度 angle</h3><p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b04efd5331e44b5ebf15378da66810df~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="036.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;canvas width=&quot;500&quot; height=&quot;500&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  let triangle = new fabric.Triangle(&#123;<br>    top: 100,<br>    left: 100,<br>    width: 80,<br>    height: 100,<br>    fill: &#x27;blue&#x27;,<br>    angle: 30 // 旋转30度<br>  &#125;)<br><br>  canvas.add(triangle)<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<h3 id="缩放-scaleX-和-scaleY"><a href="#缩放-scaleX-和-scaleY" class="headerlink" title="缩放 scaleX 和 scaleY"></a>缩放 scaleX 和 scaleY</h3><p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/216327a4f5ae42dc838cb9befdc4c9ac~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="037.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;canvas width=&quot;500&quot; height=&quot;500&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  let triangle = new fabric.Triangle(&#123;<br>    top: 100,<br>    left: 100,<br>    width: 80,<br>    height: 100,<br>    fill: &#x27;blue&#x27;,<br>    scaleX: 2, // x轴方向放大2倍<br>    scaleY: 2 // y轴方向放大2倍<br>  &#125;)<br><br>  canvas.add(triangle)<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<h3 id="反转-scaleX-和-scaleY"><a href="#反转-scaleX-和-scaleY" class="headerlink" title="反转 scaleX 和 scaleY"></a>反转 scaleX 和 scaleY</h3><p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9e237a4bf4f342468e30d7fb65b6eff1~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="038.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;canvas width=&quot;500&quot; height=&quot;500&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  let triangle = new fabric.Triangle(&#123;<br>    top: 100,<br>    left: 100,<br>    width: 80,<br>    height: 100,<br>    fill: &#x27;blue&#x27;,<br>    scaleY: -1 // scale是负数时，图形会反转<br>  &#125;)<br><br>  canvas.add(triangle)<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<h3 id="平移-top-和-left"><a href="#平移-top-和-left" class="headerlink" title="平移 top 和 left"></a>平移 top 和 left</h3><p>可以直接设置元素的 <code>top</code> 和 <code>left</code> 进行平移。</p>
<p>可参照前面的例子。</p>
<hr>
<h2 id="分组"><a href="#分组" class="headerlink" title="分组"></a>分组</h2><p><a target="_blank" rel="noopener" href="http://fabricjs.com/docs/fabric.Group.html" title="http://fabricjs.com/docs/fabric.Group.html">『Fabric.js 组 - 文档』</a></p>
<h3 id="建组"><a href="#建组" class="headerlink" title="建组"></a>建组</h3><p><a target="_blank" rel="noopener" href="http://k21vin.gitee.io/front-end-data-visualization/#/fabric/fabric-basic/fabric-groups" title="http://k21vin.gitee.io/front-end-data-visualization/#/fabric/fabric-basic/fabric-groups">🎁 本节案例在线预览 - 建组及操作</a></p>
<p><a target="_blank" rel="noopener" href="https://gitee.com/k21vin/front-end-data-visualization/blob/master/src/views/FabricJS/Basic/pages/Groups/Groups.vue" title="https://gitee.com/k21vin/front-end-data-visualization/blob/master/src/views/FabricJS/Basic/pages/Groups/Groups.vue">🎁 本节代码仓库</a></p>
<p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/44dcefc59a344fcfac7c068c5e9b01b9~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="039.gif"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;canvas width=&quot;400&quot; height=&quot;400&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  // 椭圆<br>  const ellipse = new fabric.Ellipse(&#123;<br>    top: 20,<br>    left: 20,<br>    rx: 100,<br>    ry: 50,<br>    fill: &#x27;#ddd&#x27;,<br>    originX: &#x27;center&#x27;, // 旋转x轴：left, right, center<br>    originY: &#x27;center&#x27; // 旋转y轴：top, bottom, center<br>  &#125;)<br><br>  // 文本<br>  const text = new fabric.Text(&#x27;Hello World&#x27;, &#123;<br>    top: 40,<br>    left: 20,<br>    fontSize: 20,<br>    originX: &quot;center&quot;,<br>    originY: &quot;center&quot;<br>  &#125;)<br><br>  // 建组<br>  const group = new fabric.Group([ellipse, text], &#123;<br>    top: 50, // 整组距离顶部100<br>    left: 100, // 整组距离左侧100<br>    angle: -10, // 整组旋转-10deg<br>  &#125;)<br><br>  canvas.add(group)<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p><code>new fabric.Group</code> 可以创建一个组（其实有点像 Photoshop 里面的组，把多个图层放在同一个组内，实现同步的操作，比如拖拽、缩放等）。</p>
<h3 id="操作组"><a href="#操作组" class="headerlink" title="操作组"></a>操作组</h3><p><a target="_blank" rel="noopener" href="http://k21vin.gitee.io/front-end-data-visualization/#/fabric/fabric-basic/fabric-groups" title="http://k21vin.gitee.io/front-end-data-visualization/#/fabric/fabric-basic/fabric-groups">🎁 本节案例在线预览 - 建组及操作</a></p>
<p><a target="_blank" rel="noopener" href="https://gitee.com/k21vin/front-end-data-visualization/blob/master/src/views/FabricJS/Basic/pages/Groups/Groups.vue" title="https://gitee.com/k21vin/front-end-data-visualization/blob/master/src/views/FabricJS/Basic/pages/Groups/Groups.vue">🎁 本节代码仓库</a></p>
<p><code>Fabric.js</code> 的组提供了很多方法，这里列一些常用的：</p>
<ul>
<li><code>getObjects()</code> 返回一组中所有对象的数组</li>
<li><code>size()</code> 所有对象的数量</li>
<li><code>contains()</code> 检查特定对象是否在 <code>group</code> 中</li>
<li><code>item()</code> 组中元素</li>
<li><code>forEachObject()</code> 遍历组中对象</li>
<li><code>add()</code> 添加元素对象</li>
<li><code>remove()</code> 删除元素对象</li>
<li><code>fabric.util.object.clone()</code> 克隆</li>
</ul>
<p>我拿其中一个举例：<code>item()</code></p>
<p>在上一个例子的基础上，把椭圆改成红色，把 “Hello World” 改成 “雷猴，世界”。</p>
<p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/84032b8bd545462dbd49d16235a9a438~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="040.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;canvas width=&quot;400&quot; height=&quot;400&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  // 椭圆<br>  const ellipse = new fabric.Ellipse(&#123;<br>    top: 20,<br>    left: 20,<br>    rx: 100,<br>    ry: 50,<br>    fill: &#x27;#ddd&#x27;,<br>    originX: &#x27;center&#x27;, // 旋转x轴：left, right, center<br>    originY: &#x27;center&#x27; // 旋转y轴：top, bottom, center<br>  &#125;)<br><br>  // 文本<br>  const text = new fabric.Text(&#x27;Hello World&#x27;, &#123;<br>    top: 40,<br>    left: 20,<br>    fontSize: 20,<br>    originX: &quot;center&quot;,<br>    originY: &quot;center&quot;<br>  &#125;)<br><br>  // 建组<br>  const group = new fabric.Group([ellipse, text], &#123;<br>    top: 50, // 整组距离顶部100<br>    left: 100, // 整组距离左侧100<br>    angle: -10, // 整组旋转-10deg<br>  &#125;)<br><br>  // 控制第一个元素（椭圆）<br>  group.item(0).set(&#x27;fill&#x27;, &#x27;#ea5455&#x27;)<br><br>  // 控制第二个元素（文本）<br>  group.item(1).set(&#123;<br>    text: &#x27;雷猴，世界&#x27;,<br>    fill: &#x27;#fff&#x27;<br>  &#125;)<br><br>  canvas.add(group)<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<h3 id="打散分组"><a href="#打散分组" class="headerlink" title="打散分组"></a>打散分组</h3><p><a target="_blank" rel="noopener" href="http://k21vin.gitee.io/front-end-data-visualization/#/fabric/fabric-demo/fabric-manage-selection" title="http://k21vin.gitee.io/front-end-data-visualization/#/fabric/fabric-demo/fabric-manage-selection">🎁 本节案例在线预览 - 建组 和 打散组</a></p>
<p><a target="_blank" rel="noopener" href="https://gitee.com/k21vin/front-end-data-visualization/blob/master/src/views/FabricJS/Demo/pages/ManageSelection/ManageSelection.vue" title="https://gitee.com/k21vin/front-end-data-visualization/blob/master/src/views/FabricJS/Demo/pages/ManageSelection/ManageSelection.vue">🎁 本节代码仓库</a></p>
<p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b8ab6edac1414cea8c6d0e3da94c8999~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="041.gif"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;button @click=&quot;ungroup&quot;&gt;取消组&lt;/button&gt;<br>    &lt;canvas width=&quot;400&quot; height=&quot;400&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>let canvas = null<br><br>// 初始化<br>function init() &#123;<br>  canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  // 椭圆<br>  const ellipse = new fabric.Ellipse(&#123;<br>    top: 20,<br>    left: 20,<br>    rx: 100,<br>    ry: 50,<br>    fill: &#x27;#ddd&#x27;,<br>    originX: &#x27;center&#x27;, // 旋转x轴：left, right, center<br>    originY: &#x27;center&#x27; // 旋转y轴：top, bottom, center<br>  &#125;)<br><br>  // 文本<br>  const text = new fabric.Text(&#x27;Hello World&#x27;, &#123;<br>    top: 40,<br>    left: 20,<br>    fontSize: 20,<br>    originX: &quot;center&quot;,<br>    originY: &quot;center&quot;<br>  &#125;)<br><br>  // 建组<br>  const group = new fabric.Group([ellipse, text], &#123;<br>    top: 50, // 整组距离顶部100<br>    left: 100, // 整组距离左侧100<br>    angle: -10, // 整组旋转-10deg<br>  &#125;)<br><br>  canvas.add(group)<br>&#125;<br><br>// 取消组<br>function ungroup() &#123;<br>  // 判断当前有没有选中元素，如果没有就不执行任何操作<br>  if (!canvas.getActiveObject()) &#123;<br>    return<br>  &#125;<br><br>  // 判断当前是否选中组，如果不是，就不执行任何操作<br>  if (canvas.getActiveObject().type !== &#x27;group&#x27;) &#123;<br>    return<br>  &#125;<br><br>  // 先获取当前选中的对象，然后打散<br>  canvas.getActiveObject().toActiveSelection()<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p>使用 <code>canvas.getActiveObject()</code> 可以获取画布当前选中的对象，然后再通过 <code>toActiveSelection()</code> 将组打散。</p>
<hr>
<h2 id="动画"><a href="#动画" class="headerlink" title="动画"></a>动画</h2><p><a target="_blank" rel="noopener" href="http://fabricjs.com/docs/fabric.Object.html#animate" title="http://fabricjs.com/docs/fabric.Object.html#animate">『Fabric.js animate - 文档』</a></p>
<p><a target="_blank" rel="noopener" href="http://k21vin.gitee.io/front-end-data-visualization/#/fabric/fabric-basic/fabric-animation" title="http://k21vin.gitee.io/front-end-data-visualization/#/fabric/fabric-basic/fabric-animation">🎁 本节案例在线预览 - 动画</a></p>
<p><a target="_blank" rel="noopener" href="https://gitee.com/k21vin/front-end-data-visualization/blob/master/src/views/FabricJS/Basic/pages/Animation/Animation.vue" title="https://gitee.com/k21vin/front-end-data-visualization/blob/master/src/views/FabricJS/Basic/pages/Animation/Animation.vue">🎁 本节代码仓库</a></p>
<h3 id="绝对值动画"><a href="#绝对值动画" class="headerlink" title="绝对值动画"></a>绝对值动画</h3><p>先别管什么 <code>绝对值动画</code> 和 <code>相对值动画</code> ，等学完这节再往下看就知道了。</p>
<p>本节是动画的基础用法。</p>
<p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/722858b0acb0438c968179ec3eb835fd~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="042.gif"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;canvas width=&quot;400&quot; height=&quot;400&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>// 初始化<br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  const rect = new fabric.Rect(&#123;<br>    left: 100,<br>    top: 100,<br>    width: 100,<br>    height: 100,<br>    fill: &#x27;red&#x27;<br>  &#125;)<br><br>  // 设置矩形动画<br>  rect.animate(&#x27;angle&#x27;, &quot;-50&quot;, &#123;<br>    onChange:canvas.renderAll.bind(canvas), // 每次刷新的时候都会执行<br>  &#125;)<br><br>  canvas.add(rect)<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p>每个 <code>Fabric</code> 对象都有一个 <code>animate</code> 方法，该方法可以动画化该对象。</p>
<p>用法：<code>animate(动画属性, 动画的结束值, [画的详细信息])</code></p>
<p><strong>第一个参数</strong>是要设置动画的属性。</p>
<p><strong>第二个参数</strong>是动画的结束值。</p>
<p><strong>第三个参数</strong>是一个对象，包括:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs auto">&#123;<br><br>   rom：允许指定可设置动画的属性的起始值（如果我们不希望使用当前值）。<br><br>   duration：默认为500（ms）。可用于更改动画的持续时间。<br><br>   onComplete：在动画结束时调用的回调。<br><br>   easing：缓动功能。<br><br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="相对值动画"><a href="#相对值动画" class="headerlink" title="相对值动画"></a>相对值动画</h3><p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7608757ba6004301b2aa8612a306ff8d~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="043.gif"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;canvas width=&quot;400&quot; height=&quot;400&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>// 初始化<br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br>  const rect = new fabric.Rect(&#123;<br>    left: 100,<br>    top: 100,<br>    width: 100,<br>    height: 100,<br>    fill: &#x27;red&#x27;<br>  &#125;)<br><br>  // 请注意第二个参数：+=360<br>  rect.animate(&#x27;angle&#x27;, &#x27;+=360&#x27;, &#123;<br>    onChange:canvas.renderAll.bind(canvas), // 每次刷新的时候都会执行<br>    duration: 2000, // 执行时间<br>    easing: fabric.util.ease.easeOutBounce, // 缓冲效果<br>  &#125;)<br><br>  canvas.add(rect)<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p>这个例子用了 <code>fabric.util.ease.easeOutBounce</code> 缓冲效果。</p>
<p>其实 <code>绝对值动画</code> 和 <code>相对值动画</code> 的用法是差不多的，只是 <strong>第二个参数</strong> 用法不同。</p>
<p><code>相对值动画</code> 是把 <code>animate</code> 改成带上<strong>运算符</strong>的值，这样就会在原基础上做计算。</p>
<hr>
<h2 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h2><p><a target="_blank" rel="noopener" href="http://k21vin.gitee.io/front-end-data-visualization/#/fabric/fabric-basic/fabric-event" title="http://k21vin.gitee.io/front-end-data-visualization/#/fabric/fabric-basic/fabric-event">🎁 本节案例在线预览 - 事件</a></p>
<p><a target="_blank" rel="noopener" href="https://gitee.com/k21vin/front-end-data-visualization/blob/master/src/views/FabricJS/Basic/pages/Event/Event.vue" title="https://gitee.com/k21vin/front-end-data-visualization/blob/master/src/views/FabricJS/Basic/pages/Event/Event.vue">🎁 本节代码仓库</a></p>
<p><code>Fabric.js</code> 提供了一套很方便的事件系统，我们可以用 <code>on</code> 方法可以初始化事件监听器，用 <code>off</code> 方法将其删除。</p>
<p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/211e00fb123d49ff901a03de4b4f8007~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="045.gif"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;canvas width=&quot;400&quot; height=&quot;400&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>    &lt;button @click=&quot;addClickEvent&quot;&gt;添加画布点击事件&lt;/button&gt;<br>    &lt;button @click=&quot;removeClickEvent&quot;&gt;移除画布点击事件&lt;/button&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>let canvas = null<br><br>// 初始化画布<br>function init() &#123;<br>  canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  const rect = new fabric.Rect(&#123;<br>    top: 20,<br>    left: 20,<br>    width: 100,<br>    height: 50,<br>    fill: &#x27;#9896f1&#x27;<br>  &#125;)<br><br>  // 给矩形添加一个选中事件<br>  rect.on(&#x27;selected&#x27;, options =&gt; &#123;<br>    console.log(&#x27;选中矩形啦&#x27;, options)<br>  &#125;)<br>  canvas.add(rect)<br><br>  addClickEvent()<br>&#125;<br><br>// 移除画布点击事件<br>function removeClickEvent() &#123;<br>  canvas.off(&#x27;mouse:down&#x27;)<br>&#125;<br><br>// 添加画布点击事件<br>function addClickEvent() &#123;<br>  removeClickEvent() // 在添加事件之前先把该事件清除掉，以免重复添加<br>  canvas.on(&#x27;mouse:down&#x27;, options =&gt; &#123;<br>    console.log(`x轴坐标: $&#123;options.e.clientX&#125;;    y轴坐标: $&#123;options.e.clientY&#125;`)<br>  &#125;)<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p><code>Fabric.js</code> 还提供了很多事件，详情可以查看<a target="_blank" rel="noopener" href="http://fabricjs.com/events" title="http://fabricjs.com/events">官方案例</a></p>
<p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0a5e67d297664bbd8843e8efdad2bbc3~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="046.png"></p>
<hr>
<h2 id="自由绘画"><a href="#自由绘画" class="headerlink" title="自由绘画"></a>自由绘画</h2><p><a target="_blank" rel="noopener" href="http://fabricjs.com/docs/fabric.Canvas.html#isDrawingMode" title="http://fabricjs.com/docs/fabric.Canvas.html#isDrawingMode">『Fabric.js 自由绘画 - 文档』</a></p>
<p><a target="_blank" rel="noopener" href="http://k21vin.gitee.io/front-end-data-visualization/#/fabric/fabric-basic/fabric-free-drawing" title="http://k21vin.gitee.io/front-end-data-visualization/#/fabric/fabric-basic/fabric-free-drawing">🎁 本节案例在线预览 - 自由绘画</a></p>
<p><a target="_blank" rel="noopener" href="https://gitee.com/k21vin/front-end-data-visualization/blob/master/src/views/FabricJS/Basic/pages/FreeDrawing/FreeDrawing.vue" title="https://gitee.com/k21vin/front-end-data-visualization/blob/master/src/views/FabricJS/Basic/pages/FreeDrawing/FreeDrawing.vue">🎁 本节代码仓库</a></p>
<p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/28181b2d8f134e938319d4f8ce8b1545~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="044.gif"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;canvas width=&quot;400&quot; height=&quot;400&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>// 初始化<br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;, &#123;<br>    isDrawingMode: true, // 开启绘图模式<br>  &#125;)<br><br>  // 设置画笔颜色<br>  canvas.freeDrawingBrush.color = &#x27;#11999e&#x27;<br><br>  // 设置画笔粗细<br>  canvas.freeDrawingBrush.width = 10<br><br>  // 画笔投影<br>  canvas.freeDrawingBrush.shadow = new fabric.Shadow(&#123;<br>    blur: 10,<br>    offsetX: 10,<br>    offsetY: 10,<br>    affectStroke: true,<br>    color: &#x27;#30e3ca&#x27;,<br>  &#125;)<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p>在使用 <code>new fabric.Canvas</code> 创建画布时，设置 <code>isDrawingMode: true</code> 就可以开始自由绘画模式。</p>
<p><code>canvas.freeDrawingBrush</code> 里有一堆属性可以设置画笔样式。</p>
<hr>
<h2 id="禁止部分操作"><a href="#禁止部分操作" class="headerlink" title="禁止部分操作"></a>禁止部分操作</h2><p><a target="_blank" rel="noopener" href="http://k21vin.gitee.io/front-end-data-visualization/#/fabric/fabric-basic/fabric-locking" title="http://k21vin.gitee.io/front-end-data-visualization/#/fabric/fabric-basic/fabric-locking">🎁 本节案例在线预览 - 禁止部分操作</a></p>
<p><a target="_blank" rel="noopener" href="https://gitee.com/k21vin/front-end-data-visualization/blob/master/src/views/FabricJS/Basic/pages/Locking/Locking.vue" title="https://gitee.com/k21vin/front-end-data-visualization/blob/master/src/views/FabricJS/Basic/pages/Locking/Locking.vue">🎁 本节代码仓库</a></p>
<h3 id="禁止水平移动"><a href="#禁止水平移动" class="headerlink" title="禁止水平移动"></a>禁止水平移动</h3><p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/577e5fc472e94f349d0d3f3369d81860~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="047.gif"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;canvas id=&quot;canvas&quot; width=&quot;400&quot; height=&quot;400&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>// 初始化画布<br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  const rect = new fabric.Rect(&#123;<br>    top: 100,<br>    left: 100,<br>    width: 100,<br>    height: 50,<br>    fill: &#x27;#ffde7d&#x27;<br>  &#125;)<br><br>  // 不允许水平移动<br>  rect.lockMovementX = true<br><br>  canvas.add(rect)<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p>使用 <code>lockMovementX</code> 禁止对象水平移动。</p>
<h3 id="禁止垂直移动"><a href="#禁止垂直移动" class="headerlink" title="禁止垂直移动"></a>禁止垂直移动</h3><p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/51ec23b913cd40cfa38cf922a0f71523~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="048.gif"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;canvas id=&quot;canvas&quot; width=&quot;400&quot; height=&quot;400&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>// 初始化画布<br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  const rect = new fabric.Rect(&#123;<br>    top: 100,<br>    left: 100,<br>    width: 100,<br>    height: 50,<br>    fill: &#x27;#f6416c&#x27;<br>  &#125;)<br><br>  // 不允许垂直移动<br>  rect.lockMovementY = true<br><br>  canvas.add(rect)<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p>使用 <code>lockMovementY</code> 禁止对象垂直移动。</p>
<h3 id="禁止旋转"><a href="#禁止旋转" class="headerlink" title="禁止旋转"></a>禁止旋转</h3><p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a78c9d4c066e4ee6a7481a1cd50efeef~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="049.gif"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;canvas id=&quot;canvas&quot; width=&quot;400&quot; height=&quot;400&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>// 初始化画布<br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  const rect = new fabric.Rect(&#123;<br>    top: 100,<br>    left: 100,<br>    width: 100,<br>    height: 50,<br>    fill: &#x27;#3490de&#x27;<br>  &#125;)<br><br>  // 禁止旋转<br>  rect.lockRotation = true<br><br>  canvas.add(rect)<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p>使用 <code>lockRotation</code> 禁止对象旋转。</p>
<h3 id="禁止水平缩放"><a href="#禁止水平缩放" class="headerlink" title="禁止水平缩放"></a>禁止水平缩放</h3><p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/38f6d95c414b4e8fb49f4dc18fe700c2~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="050.gif"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;canvas id=&quot;canvas&quot; width=&quot;400&quot; height=&quot;400&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>// 初始化画布<br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  const rect = new fabric.Rect(&#123;<br>    top: 100,<br>    left: 100,<br>    width: 100,<br>    height: 50,<br>    fill: &#x27;#ff9a3c&#x27;<br>  &#125;)<br><br>  // 禁止水平缩放<br>  rect.lockScalingX = true<br><br>  canvas.add(rect)<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p>使用 <code>lockScalingX</code> 禁止对象水平缩放。</p>
<h3 id="禁止垂直缩放"><a href="#禁止垂直缩放" class="headerlink" title="禁止垂直缩放"></a>禁止垂直缩放</h3><p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/91ce3dc57f824da5aa0aa9671d85a9e2~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="051.gif"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;canvas id=&quot;canvas&quot; width=&quot;400&quot; height=&quot;400&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>// 初始化画布<br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  const rect = new fabric.Rect(&#123;<br>    top: 100,<br>    left: 100,<br>    width: 100,<br>    height: 50,<br>    fill: &#x27;#f95959&#x27;<br>  &#125;)<br><br>  // 禁止垂直缩放<br>  rect.lockScalingY = true<br><br>  canvas.add(rect)<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p>使用 <code>lockScalingY</code> 禁止对象垂直缩放。</p>
<hr>
<h2 id="缩放和平移画布"><a href="#缩放和平移画布" class="headerlink" title="缩放和平移画布"></a>缩放和平移画布</h2><p><a target="_blank" rel="noopener" href="http://k21vin.gitee.io/front-end-data-visualization/#/fabric/fabric-basic/fabric-zoom-and-panning" title="http://k21vin.gitee.io/front-end-data-visualization/#/fabric/fabric-basic/fabric-zoom-and-panning">🎁 本节案例在线预览 - 平移和缩放画布</a></p>
<p><a target="_blank" rel="noopener" href="https://gitee.com/k21vin/front-end-data-visualization/blob/master/src/views/FabricJS/Basic/pages/ZoomAndPanning/ZoomAndPanning.vue" title="https://gitee.com/k21vin/front-end-data-visualization/blob/master/src/views/FabricJS/Basic/pages/ZoomAndPanning/ZoomAndPanning.vue">🎁 本节代码仓库</a></p>
<h3 id="缩放画布"><a href="#缩放画布" class="headerlink" title="缩放画布"></a>缩放画布</h3><h4 id="以原点为基准缩放画布"><a href="#以原点为基准缩放画布" class="headerlink" title="以原点为基准缩放画布"></a>以原点为基准缩放画布</h4><p>要缩放画布，其实是在监听鼠标事件。</p>
<p>这里监听的是鼠标的滚轮事件：<code>mouse:wheel</code>。</p>
<p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/233f6178b9a14b079e6600a20c2d7f6f~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="052.gif"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;canvas id=&quot;canvas&quot; width=&quot;400&quot; height=&quot;400&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  // 初始化画布<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  // 矩形（参照物）<br>  const rect = new fabric.Rect(&#123;<br>    top: 10,<br>    left: 10,<br>    width: 40,<br>    height: 40,<br>    fill: &#x27;orange&#x27;<br>  &#125;)<br><br>  // 圆形（参照物）<br>  const circle = new fabric.Circle(&#123;<br>    top: 30,<br>    left: 30,<br>    radius: 50,<br>    fill: &#x27;green&#x27;<br>  &#125;)<br>  canvas.add(rect, circle) // 将矩形和圆形添加到画布中<br><br>  // 监听鼠标滚轮事件<br>  canvas.on(&#x27;mouse:wheel&#x27;, opt =&gt; &#123;<br>    let delta = opt.e.deltaY // 滚轮向上滚一下是 -100，向下滚一下是 100<br>    let zoom = canvas.getZoom() // 获取画布当前缩放值<br><br>    // 控制缩放范围在 0.01~20 的区间内<br>    zoom *= 0.999 ** delta<br>    if (zoom &gt; 20) zoom = 20<br>    if (zoom &lt; 0.01) zoom = 0.01<br><br>    // 设置画布缩放比例<br>    canvas.setZoom(zoom)<br>  &#125;)<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<h4 id="以鼠标指针为基准缩放画布"><a href="#以鼠标指针为基准缩放画布" class="headerlink" title="以鼠标指针为基准缩放画布"></a>以鼠标指针为基准缩放画布</h4><p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5b1a57a530ba41a08e2753a9f5c76c28~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="053.gif"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;canvas id=&quot;canvas&quot; width=&quot;400&quot; height=&quot;400&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  // 初始化画布<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  // 矩形（参照物）<br>  const rect = new fabric.Rect(&#123;<br>    top: 130,<br>    left: 130,<br>    width: 40,<br>    height: 40,<br>    fill: &#x27;orange&#x27;<br>  &#125;)<br><br>  // 圆形（参照物）<br>  const circle = new fabric.Circle(&#123;<br>    top: 150,<br>    left: 150,<br>    radius: 50,<br>    fill: &#x27;green&#x27;<br>  &#125;)<br>  canvas.add(rect, circle) // 将矩形和圆形添加到画布中<br><br>  // 监听鼠标滚轮事件<br>  canvas.on(&#x27;mouse:wheel&#x27;, opt =&gt; &#123;<br>    let delta = opt.e.deltaY // 滚轮向上滚一下是 -100，向下滚一下是 100<br>    let zoom = canvas.getZoom() // 获取画布当前缩放值<br><br>    // 控制缩放范围在 0.01~20 的区间内<br>    zoom *= 0.999 ** delta<br>    if (zoom &gt; 20) zoom = 20<br>    if (zoom &lt; 0.01) zoom = 0.01<br><br>    // 设置画布缩放比例<br>    // 关键点！！！<br>    // 参数1：将画布的所放点设置成鼠标当前位置<br>    // 参数2：传入缩放值<br>    canvas.zoomToPoint(<br>      &#123;<br>        x: opt.e.offsetX, // 鼠标x轴坐标<br>        y: opt.e.offsetY  // 鼠标y轴坐标<br>      &#125;,<br>      zoom // 最后要缩放的值<br>    )<br>  &#125;)<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<h3 id="平移画布"><a href="#平移画布" class="headerlink" title="平移画布"></a>平移画布</h3><blockquote>
<p>本例的需求是，按下 <code>alt键</code> 后才能触发移动画布的功能。</p>
</blockquote>
<p>根据这个需求，可以把任务拆解成3步：</p>
<ul>
<li>鼠标点击（刚按下那刻）</li>
<li>鼠标移动</li>
<li>鼠标松开</li>
</ul>
<p><strong>鼠标点击 mouse:down</strong></p>
<ol>
<li><p>该步骤使用 <code>mouse:down</code> 可以监听到。</p>
</li>
<li><p>在回调函数里监听是否按下 <code>alt键</code>。</p>
</li>
<li><p>如果按下 <code>alt键</code> ，设置一个值记录 <code>开启移动状态</code>。</p>
</li>
<li><p>记录鼠标当前所在的 <code>x</code> 和 <code>y</code> 轴坐标。</p>
</li>
</ol>
<p><strong>鼠标移动 mouse:move</strong></p>
<ol>
<li>判断是否需要移动（鼠标点击的第三步）。</li>
<li>如需移动，立刻转换画布视图模式</li>
<li>将画布移动到 <code>鼠标x和y轴坐标</code> 。</li>
</ol>
<p><strong>鼠标松开 mouse:up</strong></p>
<ol>
<li>把画布定格在鼠标松开的坐标。</li>
<li><code>关闭移动状态</code>（鼠标点击的第三步）</li>
</ol>
<p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/241d256547614cee8fddde68be0c12c5~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="054.gif"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;canvas id=&quot;canvas&quot; width=&quot;400&quot; height=&quot;400&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  // 初始化画布<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  // 矩形（参照物）<br>  const rect = new fabric.Rect(&#123;<br>    top: 130,<br>    left: 130,<br>    width: 40,<br>    height: 40,<br>    fill: &#x27;orange&#x27;<br>  &#125;)<br><br>  // 圆形（参照物）<br>  const circle = new fabric.Circle(&#123;<br>    top: 150,<br>    left: 150,<br>    radius: 50,<br>    fill: &#x27;green&#x27;<br>  &#125;)<br>  canvas.add(rect, circle) // 将矩形和圆形添加到画布中<br><br>  canvas.on(&#x27;mouse:down&#x27;, opt =&gt; &#123; // 鼠标按下时触发<br>    let evt = opt.e<br>    if (evt.altKey === true) &#123; // 是否按住alt<br>      canvas.isDragging = true // isDragging 是自定义的，开启移动状态<br>      canvas.lastPosX = evt.clientX // lastPosX 是自定义的<br>      canvas.lastPosY = evt.clientY // lastPosY 是自定义的<br>    &#125;<br>  &#125;)<br><br>  canvas.on(&#x27;mouse:move&#x27;, opt =&gt; &#123; // 鼠标移动时触发<br>    if (canvas.isDragging) &#123;<br>      let evt = opt.e<br>      let vpt = canvas.viewportTransform // 聚焦视图的转换<br>      vpt[4] += evt.clientX - canvas.lastPosX<br>      vpt[5] += evt.clientY - canvas.lastPosY<br>      canvas.requestRenderAll() // 重新渲染<br>      canvas.lastPosX  = evt.clientX<br>      canvas.lastPosY  = evt.clientY<br>    &#125;<br>  &#125;)<br><br>  canvas.on(&#x27;mouse:up&#x27;, opt =&gt; &#123; // 鼠标松开时触发<br>    canvas.setViewportTransform(canvas.viewportTransform) // 设置此画布实例的视口转换  <br>    canvas.isDragging = false // 关闭移动状态<br>  &#125;)<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<hr>
<h2 id="选中状态"><a href="#选中状态" class="headerlink" title="选中状态"></a>选中状态</h2><p><a target="_blank" rel="noopener" href="http://fabricjs.com/customization" title="http://fabricjs.com/customization">『原文地址』</a></p>
<p><a target="_blank" rel="noopener" href="http://k21vin.gitee.io/front-end-data-visualization/#/fabric/fabric-demo/fabric-customization" title="http://k21vin.gitee.io/front-end-data-visualization/#/fabric/fabric-demo/fabric-customization">🎁 本节案例在线预览 - 选中状态</a></p>
<p><a target="_blank" rel="noopener" href="https://gitee.com/k21vin/front-end-data-visualization/blob/master/src/views/FabricJS/Demo/pages/Customization/Customization.vue" title="https://gitee.com/k21vin/front-end-data-visualization/blob/master/src/views/FabricJS/Demo/pages/Customization/Customization.vue">🎁 本节代码仓库</a></p>
<p><code>Fabric.js</code> 创建出来的元素（图形、图片、组等）默认是可以被选中的。</p>
<p>是否可以选中。</p>
<p>选空白位置可以选中吗？</p>
<p>选中后的样式。</p>
<h3 id="禁止选中"><a href="#禁止选中" class="headerlink" title="禁止选中"></a>禁止选中</h3><p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3bb1ba37e81b473f93f95cf431c73162~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="055.gif"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;canvas width=&quot;400&quot; height=&quot;400&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  const rect = new fabric.Rect(&#123;<br>    top: 100,<br>    left: 100,<br>    width: 200,<br>    height: 100,<br>    fill: &#x27;red&#x27;<br>  &#125;)<br><br>  // 元素禁止选中<br>  rect.selectable = false<br><br>  canvas.add(rect)<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<h3 id="无法通过空白位置选中元素"><a href="#无法通过空白位置选中元素" class="headerlink" title="无法通过空白位置选中元素"></a>无法通过空白位置选中元素</h3><p>蓝色三角形要鼠标完全放入才能选中</p>
<p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c83dcd8124d045d38318ee48059061cb~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="056.gif"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;canvas width=&quot;400&quot; height=&quot;400&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  // 三角形<br>  const triangle1 = new fabric.Triangle(&#123;<br>    top: 100,<br>    left: 50,<br>    width: 80, // 底边宽度<br>    height: 100, // 底边到定点的距离<br>    fill: &#x27;blue&#x27;,<br>  &#125;)<br><br>  // 选择三角形空白位置的时候无法选中，当perPixelTargetFind设为false后可以选中。默认值是false<br>  triangle1.perPixelTargetFind = true<br><br>  // 三角形<br>  const triangle2 = new fabric.Triangle(&#123;<br>    top: 100,<br>    left: 200,<br>    width: 80, // 底边宽度<br>    height: 100, // 底边到定点的距离<br>    fill: &#x27;green&#x27;,<br>  &#125;)<br><br><br>  canvas.add(triangle1, triangle2)<br>  canvas.selectionFullyContained = true // 只选择完全包含在拖动选择矩形中的形状<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<h3 id="画布框选样式"><a href="#画布框选样式" class="headerlink" title="画布框选样式"></a>画布框选样式</h3><p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/18757a14f91d45898984bb344edd2920~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="057.gif"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;canvas width=&quot;200&quot; height=&quot;200&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  // 圆形<br>  const circle = new fabric.Circle(&#123;<br>    radius: 30,<br>    fill: &#x27;#f55&#x27;,<br>    top: 70,<br>    left: 70<br>  &#125;)<br><br>  canvas.add(circle)<br><br>  canvas.selection = true // 画布是否可选中。默认true；false 不可选中<br>  canvas.selectionColor = &#x27;rgba(106, 101, 216, 0.3)&#x27; // 画布鼠标框选时的背景色<br>  canvas.selectionBorderColor = &quot;#1d2786&quot; // 画布鼠标框选时的边框颜色<br>  canvas.selectionLineWidth = 6 // 画布鼠标框选时的边框厚度<br>  canvas.selectionDashArray = [30, 4, 10] // 画布鼠标框选时边框虚线规则<br>  canvas.selectionFullyContained = true // 只选择完全包含在拖动选择矩形中的形状<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<h3 id="自定义边和控制角样式"><a href="#自定义边和控制角样式" class="headerlink" title="自定义边和控制角样式"></a>自定义边和控制角样式</h3><p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d92a920864c64112834577a20e2a14ee~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="058.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;canvas width=&quot;200&quot; height=&quot;200&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  // 圆形<br>  const circle = new fabric.Circle(&#123;<br>    radius: 30,<br>    fill: &#x27;#f55&#x27;,<br>    top: 70,<br>    left: 70<br>  &#125;)<br><br>  circle.set(&#123;<br>    borderColor: &#x27;red&#x27;, // 边框颜色<br>    cornerColor: &#x27;green&#x27;, // 控制角颜色<br>    cornerSize: 10, // 控制角大小<br>    transparentCorners: false // 控制角填充色不透明<br>  &#125;)<br><br>  canvas.add(circle)<br><br>  canvas.setActiveObject(circle) // 选中圆<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<h3 id="透明控制角"><a href="#透明控制角" class="headerlink" title="透明控制角"></a>透明控制角</h3><p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ca4aeae6e1a143b58181823ede36434e~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="059.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;canvas width=&quot;200&quot; height=&quot;200&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  // 圆形<br>  const circle = new fabric.Circle(&#123;<br>    radius: 30,<br>    fill: &#x27;#f55&#x27;,<br>    top: 70,<br>    left: 70<br>  &#125;)<br><br>  circle.set(&#123;<br>    borderColor: &#x27;gray&#x27;, // 边框颜色<br>    cornerColor: &#x27;black&#x27;, // 控制角颜色<br>    cornerSize: 12, // 控制角大小<br>    transparentCorners: true // 控制角填充色透明<br>  &#125;)<br><br>  canvas.add(circle)<br><br>  canvas.setActiveObject(circle) // 选中第一项<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<h3 id="自定义选中后的背景色"><a href="#自定义选中后的背景色" class="headerlink" title="自定义选中后的背景色"></a>自定义选中后的背景色</h3><p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9ff045aba9244fe2bced8b2c9d8c6db8~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="060.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;canvas width=&quot;200&quot; height=&quot;200&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  // 圆形<br>  const circle = new fabric.Circle(&#123;<br>    radius: 30,<br>    fill: &#x27;#f55&#x27;,<br>    top: 70,<br>    left: 70<br>  &#125;)<br><br>  circle.set(&#123;<br>    selectionBackgroundColor: &#x27;orange&#x27; // 选中后，背景色变橙色<br>  &#125;)<br><br>  canvas.add(circle)<br><br>  canvas.setActiveObject(circle) // 选中第一项<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<h3 id="没有边框"><a href="#没有边框" class="headerlink" title="没有边框"></a>没有边框</h3><p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f050786169624fd6b3dfa7d0b9500bdf~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="061.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;canvas width=&quot;200&quot; height=&quot;200&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  // 圆形<br>  const circle = new fabric.Circle(&#123;<br>    radius: 30,<br>    fill: &#x27;#f55&#x27;,<br>    top: 70,<br>    left: 70<br>  &#125;)<br><br>  circle.hasBorders = false // 取消边框<br><br>  canvas.add(circle)<br><br>  canvas.setActiveObject(circle) // 选中第一项<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<h3 id="没有控制角"><a href="#没有控制角" class="headerlink" title="没有控制角"></a>没有控制角</h3><p>没有控制角将意味着无法用鼠标直接操作缩放和旋转，只允许移动操作。</p>
<p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4d5f03294ede4c6aaa19532b055a2db2~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="062.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;canvas width=&quot;200&quot; height=&quot;200&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  // 圆形<br>  const circle = new fabric.Circle(&#123;<br>    radius: 30,<br>    fill: &#x27;#f55&#x27;,<br>    top: 70,<br>    left: 70<br>  &#125;)<br><br>  circle.hasControls = false // 禁止控制角<br><br>  canvas.add(circle)<br><br>  canvas.setActiveObject(circle) // 选中第一项<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<h3 id="自定义光标在对象悬停"><a href="#自定义光标在对象悬停" class="headerlink" title="自定义光标在对象悬停"></a>自定义光标在对象悬停</h3><p>本例设置了当鼠标在元素上出现 ”等待指针“ 。</p>
<p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/02d6451d78364f2f9208d5808553dc51~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="063.gif"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;canvas width=&quot;200&quot; height=&quot;200&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  // 圆形<br>  const circle = new fabric.Circle(&#123;<br>    radius: 30,<br>    fill: &#x27;#f55&#x27;,<br>    top: 70,<br>    left: 70<br>  &#125;)<br><br>  canvas.hoverCursor = &#x27;wait&#x27; // 设置等待指针<br><br>  canvas.add(circle)<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<h3 id="元素移动时的样式"><a href="#元素移动时的样式" class="headerlink" title="元素移动时的样式"></a>元素移动时的样式</h3><p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7a2f6105016e4883b95335c296c5bf57~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="064.gif"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;canvas width=&quot;200&quot; height=&quot;200&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  // 圆形<br>  const circle = new fabric.Circle(&#123;<br>    radius: 30,<br>    fill: &#x27;#f55&#x27;,<br>    top: 70,<br>    left: 70<br>  &#125;)<br><br>  circle.hasBorders = circle.hasControls = false<br><br>  canvas.add(circle)<br><br>  function animate(e, dir) &#123;<br>    if (e.target) &#123;<br>      fabric.util.animate(&#123;<br>        startValue: e.target.get(&#x27;angle&#x27;),<br>        endValue: e.target.get(&#x27;angle&#x27;) + (dir ? 10 : -10),<br>        duration: 100<br>      &#125;)<br>      fabric.util.animate(&#123;<br>        startValue: e.target.get(&#x27;scaleX&#x27;),<br>        endValue: e.target.get(&#x27;scaleX&#x27;) + (dir ? 0.2 : -0.2),<br>        duration: 100,<br>        onChange: function(value) &#123;<br>          e.target.scale(value)<br>          canvas.renderAll()<br>        &#125;,<br>        onComplete: function() &#123;<br>          e.target.setCoords()<br>        &#125;<br>      &#125;)<br>    &#125;<br>  &#125;<br>  canvas.on(&#x27;mouse:down&#x27;, function(e) &#123; animate(e, 1) &#125;)<br>  canvas.on(&#x27;mouse:up&#x27;, function(e) &#123; animate(e, 0) &#125;)<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<h3 id="不允许框选"><a href="#不允许框选" class="headerlink" title="不允许框选"></a>不允许框选</h3><p>不允许从画布框选，但允许选中元素。</p>
<p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ac6900c5a4bb49dc9e54688bcb81efa6~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="065.gif"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;canvas width=&quot;200&quot; height=&quot;200&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  // 圆形<br>  const circle = new fabric.Circle(&#123;<br>    radius: 30,<br>    fill: &#x27;#f55&#x27;,<br>    top: 70,<br>    left: 70<br>  &#125;)<br><br>  canvas.add(circle)<br>  canvas.selection = false // 不允许直接从画布框选<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<hr>
<h2 id="裁剪"><a href="#裁剪" class="headerlink" title="裁剪"></a>裁剪</h2><p><a target="_blank" rel="noopener" href="http://fabricjs.com/clippath-part3" title="http://fabricjs.com/clippath-part3">『Fabric.js 裁剪原文 1』</a></p>
<p><a target="_blank" rel="noopener" href="http://fabricjs.com/clippath-part4" title="http://fabricjs.com/clippath-part4">『Fabric.js 裁剪原文 2』</a></p>
<p><a target="_blank" rel="noopener" href="http://k21vin.gitee.io/front-end-data-visualization/#/fabric/fabric-basic/fabric-clip-path" title="http://k21vin.gitee.io/front-end-data-visualization/#/fabric/fabric-basic/fabric-clip-path">🎁 本节案例在线预览 - 裁剪</a></p>
<p><a target="_blank" rel="noopener" href="https://gitee.com/k21vin/front-end-data-visualization/blob/master/src/views/FabricJS/Basic/pages/ClipPath/ClipPath.vue" title="https://gitee.com/k21vin/front-end-data-visualization/blob/master/src/views/FabricJS/Basic/pages/ClipPath/ClipPath.vue">🎁 本节代码仓库</a></p>
<h3 id="裁剪单一图形"><a href="#裁剪单一图形" class="headerlink" title="裁剪单一图形"></a>裁剪单一图形</h3><p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f7589eb3001e4de99641e480f965b095~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="066.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;canvas width=&quot;300&quot; height=&quot;300&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  // 裁剪的图形<br>  // clipPath从对象的中心开始定位，对象originX和originY不起任何作用，而clipPath originX和originY起作用。定位逻辑与fabric.Group相同<br>  const clipPath = new fabric.Circle(&#123;<br>    radius: 40,<br>    left: -40,<br>    top: -40<br>  &#125;)<br><br>  // 矩形<br>  const rect = new fabric.Rect(&#123;<br>    width: 200,<br>    height: 100,<br>    fill: &#x27;red&#x27;<br>  &#125;)<br><br>  // 裁剪矩形<br>  rect.clipPath = clipPath<br><br>  canvas.add(rect)<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<h3 id="裁剪一个组"><a href="#裁剪一个组" class="headerlink" title="裁剪一个组"></a>裁剪一个组</h3><p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/84f8508e01f942f5b2a45cabc70d0a3a~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="067.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;canvas width=&quot;300&quot; height=&quot;300&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  // 裁剪的图形<br>  // clipPath从对象的中心开始定位，对象originX和originY不起任何作用，而clipPath originX和originY起作用。定位逻辑与fabric.Group相同<br>  const clipPath = new fabric.Circle(&#123;<br>    radius: 40,<br>    left: -40,<br>    top: -40<br>  &#125;)<br><br>  const group = new fabric.Group([<br>    new fabric.Rect(&#123; width: 100, height: 100, fill: &#x27;red&#x27; &#125;),<br>    new fabric.Rect(&#123; width: 100, height: 100, fill: &#x27;yellow&#x27;, left: 100 &#125;),<br>    new fabric.Rect(&#123; width: 100, height: 100, fill: &#x27;blue&#x27;, top: 100 &#125;),<br>    new fabric.Rect(&#123;<br>      width: 100,<br>      height: 100,<br>      fill: &#x27;green&#x27;,<br>      left: 100,<br>      top: 100<br>    &#125;)<br>  ])<br><br>  // 裁剪一个组<br>  group.clipPath = clipPath<br><br>  canvas.add(group)<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<h3 id="组合剪辑"><a href="#组合剪辑" class="headerlink" title="组合剪辑"></a>组合剪辑</h3><p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c7da8e556dce44728bb4d28a0985e01a~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="068.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;canvas width=&quot;300&quot; height=&quot;300&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  const clipPath = new fabric.Group(<br>    [<br>      new fabric.Circle(&#123; radius: 70, top: -70, left: -70 &#125;),<br>      new fabric.Circle(&#123; radius: 40, top: -95, left: -95 &#125;),<br>      new fabric.Circle(&#123; radius: 40, top: 15, left: 15 &#125;)<br>    ],<br>    &#123; left: -95, top: -95 &#125;<br>  )<br><br>  const group = new fabric.Group([<br>    new fabric.Rect(&#123; width: 100, height: 100, fill: &#x27;red&#x27; &#125;),<br>    new fabric.Rect(&#123; width: 100, height: 100, fill: &#x27;yellow&#x27;, left: 100 &#125;),<br>    new fabric.Rect(&#123; width: 100, height: 100, fill: &#x27;blue&#x27;, top: 100 &#125;),<br>    new fabric.Rect(&#123;<br>      width: 100,<br>      height: 100,<br>      fill: &#x27;green&#x27;,<br>      left: 100,<br>      top: 100<br>    &#125;)<br>  ])<br><br>  group.clipPath = clipPath<br>  canvas.add(group)<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<h3 id="剪完再剪（组合剪辑）"><a href="#剪完再剪（组合剪辑）" class="headerlink" title="剪完再剪（组合剪辑）"></a>剪完再剪（组合剪辑）</h3><p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9a0277bf563b4a34b065f3b9635e48f5~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="069.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;canvas width=&quot;300&quot; height=&quot;300&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  const clipPath = new fabric.Circle(&#123; radius: 70, top: -50, left: -50 &#125;)<br>  const innerClipPath = new fabric.Circle(&#123; radius: 70, top: -90, left: -90 &#125;)<br>  clipPath.clipPath = innerClipPath<br><br>  const group = new fabric.Group([<br>    new fabric.Rect(&#123; width: 100, height: 100, fill: &#x27;red&#x27; &#125;),<br>    new fabric.Rect(&#123; width: 100, height: 100, fill: &#x27;yellow&#x27;, left: 100 &#125;),<br>    new fabric.Rect(&#123; width: 100, height: 100, fill: &#x27;blue&#x27;, top: 100 &#125;),<br>    new fabric.Rect(&#123; width: 100, height: 100, fill: &#x27;green&#x27;, left: 100, top: 100 &#125;),<br>  ])<br><br>  group.clipPath = clipPath<br>  canvas.add(group)<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<h3 id="组内嵌套剪辑"><a href="#组内嵌套剪辑" class="headerlink" title="组内嵌套剪辑"></a>组内嵌套剪辑</h3><p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6703f9e5553b4fd5947e98adffbacd55~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="070.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;canvas width=&quot;300&quot; height=&quot;300&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  const clipPath = new fabric.Circle(&#123; radius: 100, top: -100, left: -100 &#125;)<br>  const small = new fabric.Circle(&#123; radius: 50, top: -50, left: -50 &#125;)<br><br>  const group = new fabric.Group([<br>    new fabric.Rect(&#123; width: 100, height: 100, fill: &quot;red&quot;, clipPath: small &#125;),<br>    new fabric.Rect(&#123; width: 100, height: 100, fill: &quot;yellow&quot;, left: 100 &#125;),<br>    new fabric.Rect(&#123; width: 100, height: 100, fill: &quot;blue&quot;, top: 100 &#125;),<br>    new fabric.Rect(&#123; width: 100, height: 100, fill: &quot;green&quot;, left: 100, top: 100 &#125;),<br>  ])<br><br>  group.clipPath = clipPath<br>  canvas.add(group)<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<h3 id="用文字来裁剪"><a href="#用文字来裁剪" class="headerlink" title="用文字来裁剪"></a>用文字来裁剪</h3><p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/93b4325b8d8a4d7ba80920e5591d7d22~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="071.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;canvas width=&quot;300&quot; height=&quot;300&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  const clipPath = new fabric.Text(<br>    &#x27;Hi I\&#x27;m the \nnew ClipPath!\nI hope we\&#x27;ll\nbe friends&#x27;,<br>    &#123; top: -100, left: -100 &#125;<br>  )<br><br>  const group = new fabric.Group([<br>    new fabric.Rect(&#123; width: 100, height: 100, fill: &quot;red&quot; &#125;),<br>    new fabric.Rect(&#123; width: 100, height: 100, fill: &quot;yellow&quot;, left: 100 &#125;),<br>    new fabric.Rect(&#123; width: 100, height: 100, fill: &quot;blue&quot;, top: 100 &#125;),<br>    new fabric.Rect(&#123; width: 100, height: 100, fill: &quot;green&quot;, left: 100, top: 100 &#125;),<br>  ])<br><br>  group.clipPath = clipPath<br>  canvas.add(group)<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<h3 id="裁剪画布"><a href="#裁剪画布" class="headerlink" title="裁剪画布"></a>裁剪画布</h3><p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c1c255aab002488f88763e6873d0fcf6~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="072.gif"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;canvas width=&quot;300&quot; height=&quot;300&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;, &#123;<br>    backgroundColor: &quot;#ddd&quot;<br>  &#125;)<br><br>  const group = new fabric.Group([<br>    new fabric.Rect(&#123; width: 100, height: 100, fill: &quot;red&quot; &#125;),<br>    new fabric.Rect(&#123; width: 100, height: 100, fill: &quot;yellow&quot;, left: 100 &#125;),<br>    new fabric.Rect(&#123; width: 100, height: 100, fill: &quot;blue&quot;, top: 100 &#125;),<br>    new fabric.Rect(&#123; width: 100, height: 100, fill: &quot;green&quot;, left: 100, top: 100 &#125;),<br>  ])<br><br>  const clipPath = new fabric.Circle(&#123; radius: 100, top: 0, left: 50 &#125;)<br>  canvas.clipPath = clipPath<br>  canvas.add(group)<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<h3 id="裁剪画布，但不裁控件"><a href="#裁剪画布，但不裁控件" class="headerlink" title="裁剪画布，但不裁控件"></a>裁剪画布，但不裁控件</h3><p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6619e6aeb2f2457093227b4293a76866~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="073.gif"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;canvas width=&quot;300&quot; height=&quot;300&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;, &#123;<br>    backgroundColor: &quot;#ddd&quot;<br>  &#125;)<br><br>  const group = new fabric.Group([<br>    new fabric.Rect(&#123; width: 100, height: 100, fill: &quot;red&quot; &#125;),<br>    new fabric.Rect(&#123; width: 100, height: 100, fill: &quot;yellow&quot;, left: 100 &#125;),<br>    new fabric.Rect(&#123; width: 100, height: 100, fill: &quot;blue&quot;, top: 100 &#125;),<br>    new fabric.Rect(&#123; width: 100, height: 100, fill: &quot;green&quot;, left: 100, top: 100 &#125;),<br>  ])<br><br>  // 裁剪区之外控件可见<br>  canvas.controlsAboveOverlay = true<br><br>  const clipPath = new fabric.Circle(&#123; radius: 100, top: 0, left: 50 &#125;)<br>  canvas.clipPath = clipPath<br>  canvas.add(group)<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<h3 id="动画裁剪"><a href="#动画裁剪" class="headerlink" title="动画裁剪"></a>动画裁剪</h3><p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1015effccbb745208f8bbb083250c13c~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="074.gif"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;canvas width=&quot;300&quot; height=&quot;300&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;, &#123;<br>    backgroundColor: &quot;#ddd&quot;<br>  &#125;)<br><br>  const clipPath = new fabric.Rect(&#123; width: 100, height: 100, top: 0, left: 0 &#125;)<br><br>  function animateLeft()&#123;<br>    clipPath.animate(&#123;<br>      left: 200,<br>    &#125;,&#123;<br>      duration: 900,<br>      onChange: canvas.requestRenderAll.bind(canvas),<br>      onComplete: animateRight<br>    &#125;)<br>  &#125;<br><br>  function animateRight()&#123;<br>    clipPath.animate(&#123;<br>      left: 0,<br>    &#125;,&#123;<br>      duration: 1200,<br>      onChange: canvas.requestRenderAll.bind(canvas),<br>      onComplete: animateLeft<br>    &#125;)<br>  &#125;<br><br>  function animateDown()&#123;<br>    clipPath.animate(&#123;<br>      top: 100,<br>    &#125;,&#123;<br>      duration: 500,<br>      onChange: canvas.requestRenderAll.bind(canvas),<br>      onComplete: animateUp<br>    &#125;)<br>  &#125;<br><br>  function animateUp()&#123;<br>    clipPath.animate(&#123;<br>      top: 0,<br>    &#125;,&#123;<br>      duration: 400,<br>      onChange: canvas.requestRenderAll.bind(canvas),<br>      onComplete: animateDown<br>    &#125;)<br>  &#125;<br><br>  const group = new fabric.Group([<br>    new fabric.Rect(&#123; width: 100, height: 100, fill: &quot;red&quot; &#125;),<br>    new fabric.Rect(&#123; width: 100, height: 100, fill: &quot;yellow&quot;, left: 100 &#125;),<br>    new fabric.Rect(&#123; width: 100, height: 100, fill: &quot;blue&quot;, top: 100 &#125;),<br>    new fabric.Rect(&#123; width: 100, height: 100, fill: &quot;green&quot;, left: 100, top: 100 &#125;),<br>  ], &#123;<br>    scale: 1.5<br>  &#125;)<br><br>  canvas.controlsAboveOverlay = true<br><br>  animateLeft()<br>  animateDown()<br><br>  canvas.clipPath = clipPath<br>  canvas.add(group)<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<h3 id="使用绝对定位裁剪"><a href="#使用绝对定位裁剪" class="headerlink" title="使用绝对定位裁剪"></a>使用绝对定位裁剪</h3><p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d148d87c3a5e4e17a8d3307d4e37b3cd~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="075.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;canvas width=&quot;300&quot; height=&quot;300&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  const canvas = new fabric.Canvas(&quot;canvas&quot;)<br><br>  const clipPath = new fabric.Rect(&#123; width: 300, height: 300, top: 0, left: 0, absolutePositioned: true &#125;)<br><br>  const clipPath2 = new fabric.Rect(&#123; width: 300, height: 300, top: 0, left: 0, absolutePositioned: true &#125;)<br><br>  fabric.Image.fromURL(&quot;http://fabricjs.com/assets/dragon.jpg&quot;, function(img)&#123;<br>    img.clipPath = clipPath<br>    img.scaleToWidth(300)<br>    canvas.add(img)<br>  &#125;)<br><br>  fabric.Image.fromURL(&quot;http://fabricjs.com/assets/dragon2.jpg&quot;, function(img)&#123;<br>    img.clipPath =clipPath2<br>    img.scaleToWidth(300)<br>    img.top = 150<br>    canvas.add(img)<br>  &#125;)<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<h3 id="颠倒的clipPaths"><a href="#颠倒的clipPaths" class="headerlink" title="颠倒的clipPaths"></a>颠倒的clipPaths</h3><p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2339e4806e77436c85b0b5cf5b955d6f~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="076.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;canvas width=&quot;300&quot; height=&quot;300&quot; id=&quot;canvas&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  const canvas = new fabric.Canvas(&quot;canvas&quot;)<br><br>  const clipPath = new fabric.Circle(&#123; radius: 100, top: -200, left: -220 &#125;)<br>  const clipPath2 = new fabric.Circle(&#123; radius: 100, top: 0, left: -20 &#125;)<br>  const clipPath3 = new fabric.Circle(&#123; radius: 100, top: 0, left: -220 &#125;)<br>  const clipPath4 = new fabric.Circle(&#123; radius: 100, top: -200, left: -20 &#125;)<br>  const g = new fabric.Group([ clipPath, clipPath2, clipPath3, clipPath4 ])<br><br>  g.inverted = true // 颠倒裁剪<br><br>  fabric.Image.fromURL(&quot;http://fabricjs.com/assets/dragon.jpg&quot;, function(img) &#123;<br>    img.clipPath = g<br>    img.scaleToWidth(500)<br>    canvas.add(img)<br>  &#125;)<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<hr>
<h2 id="序列化"><a href="#序列化" class="headerlink" title="序列化"></a>序列化</h2><p><a target="_blank" rel="noopener" href="http://k21vin.gitee.io/front-end-data-visualization/#/fabric/fabric-basic/fabric-serialization" title="http://k21vin.gitee.io/front-end-data-visualization/#/fabric/fabric-basic/fabric-serialization">🎁 本节案例在线预览 - 序列化</a></p>
<p><a target="_blank" rel="noopener" href="https://gitee.com/k21vin/front-end-data-visualization/blob/master/src/views/FabricJS/Basic/pages/Serialization/Serialization.vue" title="https://gitee.com/k21vin/front-end-data-visualization/blob/master/src/views/FabricJS/Basic/pages/Serialization/Serialization.vue">🎁 本节代码仓库</a></p>
<p>所谓的序列化其实就是将画布的内容转成 <code>JSON</code>，方便保存。</p>
<p>但 <code>Fabric.js</code> 除了能将画布转成字符串，还可以输出 <code>base64</code> 和 <code>svg</code>。</p>
<h3 id="输出JSON"><a href="#输出JSON" class="headerlink" title="输出JSON"></a>输出JSON</h3><p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2e56e1d626e9426bbb20f8c0dc336e45~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="077.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;canvas id=&quot;canvas&quot; width=&quot;200&quot; height=&quot;200&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  // 初始化画布<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  console.log(&#x27;canvas stringify &#x27;, JSON.stringify(canvas))<br>  console.log(&#x27;canvas toJSON&#x27;, canvas.toJSON())<br>  console.log(&#x27;canvas toObject&#x27;, canvas.toObject())<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p>打开控制台可以看到输出。</p>
<p>本例分别使用了 <code>JSON.stringify()</code> 、<code>canvas.toJSON()</code> 和 <code>canvas.toObject()</code> 进行序列化一个空画布。</p>
<p><code>Fabric.js</code> 提供了 <code>toJSON</code> 和 <code>toObject</code> 两个方法，把画布及内容转换成 <code>JSON</code> 。</p>
<p>因为本例输出的是一个空画布，所以在输出内容里的 <code>objects</code> 字段是一个空数组。</p>
<p>如果有背景、有图形之类的元素存在，<code>objects</code> 对象里就会出现相应的数据。</p>
<p>详情可查看 <a target="_blank" rel="noopener" href="http://k21vin.gitee.io/front-end-data-visualization/#/fabric/fabric-basic/fabric-serialization" title="http://k21vin.gitee.io/front-end-data-visualization/#/fabric/fabric-basic/fabric-serialization">🎁 本节案例在线预览 - 序列化</a></p>
<h3 id="输出png（base64版）"><a href="#输出png（base64版）" class="headerlink" title="输出png（base64版）"></a>输出png（base64版）</h3><p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4e17488938154fe4b16ed7250f430b51~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="078.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;canvas id=&quot;canvas&quot; width=&quot;200&quot; height=&quot;200&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  // 初始化画布<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;, &#123;<br>    backgroundColor: &#x27;#a5dee5&#x27;<br>  &#125;)<br><br>  const rect = new fabric.Rect(&#123;<br>    left: 50,<br>    top: 50,<br>    height: 20,<br>    width: 20,<br>    fill: &#x27;green&#x27;<br>  &#125;)<br><br>  const circle = new fabric.Circle(&#123;<br>    left: 80,<br>    top: 80,<br>    radius: 40,<br>    fill: &quot;red&quot;<br>  &#125;)<br><br>  canvas.add(rect, circle)<br><br>  console.log(&#x27;toPng&#x27;, canvas.toDataURL(&#x27;png&#x27;)) // 在控制台输出 png（base64）<br>  canvas.requestRenderAll()<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p>使用 <code>canvas.toDataURL(&#39;png&#39;)</code> 可以输出 <code>png</code> 图片。但这个操作可能会打断 <code>canvas</code> 的渲染，所以之后要再执行以下 <code>canvas.requestRenderAll()</code> 。</p>
<p>输出以下内容，可以把这段复制到浏览器地址打开看看</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs auto">data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAAXNSR0IArs4c6QAADGdJREFUeF7tnX9sVtUZx5+moFBXE0Q7i5gayKbYQiUKWNmUujIwDJ24jm7DRRAnjgkKjgUypo4FMiZocUycCGbiVtaJU0ago7PqxhDQINCKboFIBkWrQGK1oEC6nIZlBoG+99xz7nvPOZ/3X+55znk+3/MJvT/e++Y8s3tfu/CBAAROSSAHQdgZEDg9AQRhd0DgDAQQhO0BAQRhD0BAjwD/g+hxY1QgBBAkkKBpU48AguhxY1QgBBAkkKBpU48AguhxY1QgBBAkkKBpU48AguhxY1QgBBAkkKBpU48AguhxY1QgBBAkkKBpU48AguhxY1QgBBAkkKBpU48AguhxY1QgBBAkkKBpU48AguhxY1QgBBAkkKBpU48AguhxY1QgBBAkkKBpU48AguhxY1QgBBAkkKBpU48AguhxY1QgBBAkkKBpU48AguhxY1QgBBAkkKBpU48AguhxY1QgBBAkkKBpU48AguhxY1QgBBAkkKBpU48AguhxY1QgBBAkkKBpU48AguhxY1QgBBAkkKBpU48AguhxY1QgBBAkkKBpU48AguhxY1QgBBAkkKBpU48AguhxY1QgBBAkkKBpU48AguhxY1QgBBAkkKBpU48AguhxY1QgBBAkkKBpU48AguhxY1QgBBAkkKBpU48AguhxY1QgBLwR5NltC4xHdkvpdOM1KegWAa8EWbVtoTH6Y0qnCYIYw+lsIQQ5TXQI4uyeNrpwBEEQoxvKt2IIgiC+7Wmj/SAIghjdUL4VQxAE8W1PG+0HQRDE6IbyrRiCIIhve9poPwiCIEY3lG/FEARBfNvTRvtBEAQxuqF8K4YgCOLbnjbaD4IgiNEN5VsxBEEQ3/a00X4QBEGMbijfiiEIgvi2p432gyAIYnRD+VYMQRDEtz1ttB8EQRCjG8q3Yl4JYjocvnJrmqh79bwRxD30rNgFAgjiQkqsMWsEECRr6JnYBQII4kJKrDFrBBAka+iZ2AUCCOJCSqwxawQQJGvomdgFAgjiQkqsMWsEECRr6JnYBQII4kJKGayxa2ur5O95R/Le3S9nH/hAzmptldwjR2TAwvmyfdoMOd6tm3yany+f9Dxf2i4slNaiS+Rofn4GlcM+BEEczb9g86tywZbN0nPbVunxZpOc07wvcidthb3kYHGJHCgdKO9fNUhahpRFruH7AARxJeH2dilas1p6r18nvRpelK4ftRpf+dEv5Etz+fWyd/hI2TNqtEhOjvE5XCuIIClPrEdTo/StrZE+tTXS5fDhxFZ7rHt32V1ZJbsqq+RQcUli86ZtIgRJWyIn1vPFjf+US59aKr3X12V9hXuHj5C3b5so75Vdk/W1JL0ABEmaeCfznde4Q4oXV8vFdWtTtjKR/4y4QZomT5WDJf1TtzZbC0IQW2Qj1s05flyumD9X+j2xJOLI5A/fecckeWPGLGnPzU1+8oRnRJCEgZ9qusKXG+TKOffLubt3pWA1mS3hwz595fXZD8r+68ozG+DoUQiS5eAGPPKQlCx6OMur0J++ccq9sv2e+/QLpHwkgmQpoC5tbVI2fUoqzzWiIlHnJhsXLJJjeXlRh6b+eATJQkTqjvfQuyeJOiH35aNO3Dc8uqTjDr1PHwRJOE11X2PY7bdK95aWhGe2P93hggJ5adkKOXR5sf3JEpoBQRICraZRj4QMmzDOSzn+h7FDkief9ubmIoIkJIj6s6pi7M1ey/FZSepXPufFn1sIkoAg6oS8omqMV+ccnWFT5yT1NaucP3FHkM6SNvDvX71rohdXq6KiUFe3/v7Y0qjDUnU8gliOw/X7HHHxuH6fBEHi7oAzjFd3yMvHj7M4gxulG5avcPaOO4JY2mPq2apRI8qdenzEEgpRj6WsqWtw8tktBLG0KwbOm+PEg4eW2v9cWfWA49aZs5Oaztg8CGIM5f8LqTvkI28caaGy2yXXvbDOuUflEcTCngv1qlVnKF28qoUgnaUa8d/VNwG/9r3KiKPCOfxvz9Q69c1EBDG8N6+9c0IqviZruC1j5dTXd195fJmxerYLIYhBwupBxBtGjzBY0c9Sa1fXOfOsFoIY3INXPfBT+fLvlhus6Gepf31/vLz2wC+caA5BTMXU3i7fLvlSoq/mMbX0pOuoVwr9sfHfTrx3C0EM7Y6iv7wgQ6fcZaia/2U2LHpM9nzjxtQ3iiCGIho69YdStPp5Q9X8L7Nn9E2yofo3qW8UQQxFVDngMiuvAzW0vNSVUa85rd3+VurWdfKCEMRARAWbNkrFd75loFJYJeprnpWWwVenumkEMRBP8eJFUrrglwYqhVVi2/SfSNPkKaluGkEMxHPtD8ZL7/q/GqgUVom9FV+XV36b7sviCGJgT35z6CDJ299soFJYJT7udZE8/4/NqW4aQWLGo37ZqbL0sphVwh1eu+2tVP/SFYLE3Js82h4PYNofgUeQePl2nHuocxA+egTUOYg6F0nrB0FiJtN35e9lyMwfx6wS7vBN834lu8Z+N7UAECRmNP2WPi4D5/48ZpVwh2+d9TPZOfHO1AJAkJjRlPy6uuOnlvnoEVA/Ud34o6l6gxMYhSAxIfevXiD9qxfGrBLu8B1Tp8uOqdNSCwBBYkbD/yDxAPI/SDx+qR/NOUi8iDgHiccv9aO5ihUvIq5ixeOX+tHcB4kXEfdB4vFL/WjupMeLiDvp8filfjTPYsWLiGex4vFzYvRNXxks5zTvc2KtaVpkW2Ev+fOGLWla0ufWwmVeA/HwfRA9iHwfRI+bc6P4RqFeZHyjUI+bc6MKNr8qFVW3OLfubC+4/g9/kpYhZdlexhnn508sQ/HwVpNoIHmrSTRezh/Ne7GiRch7saLxcv5o3qwYLULerBiNl/tH827ejDPk3bwZo/LrQN7unlmevN09M07eHcXvg2QWKb8PkhknL4/iF6bOHCu/MOXlts+8KX6j8Mys+I3CzPeSt0fyK7enjpZfufV2y0drjEfgT80r7Y+2n2rV3EmPtvczPnrgvDnS74klGR/v+4E775gkW2fOdq5NBLEUWc7x4zJqRLmcu3uXpRncKfthn76ypq5B2nNz3Vn0iZUiiMXICl9ukPLx4yzO4EbphuUrZP915W4s9qRVIojl2AY88pCULHrY8izpLd845V7Zfs996V1gJytDkASiC/WqlotXrU7eDgiSgCBd2tqkomqMqKtboXwOlvSX+ppVciwvz+mWESSh+PL3vCMVY2+W7i0tCc2YvWkOFxRI/crnpLXokuwtwtDMCGIIZCZl1LNaw26/1WtJlBwvLVshhy4vzgRJ6o9BkIQj6vFmkwybMM5LSTrkePJpOVRckjBVe9MhiD22p62s/twaevckr85J1DnHhkeXePFn1WeDQ5AsCKKmVCfuZdOnyMV1a7O0AnPTqqtVGxcscv6E/FREEMTcPtGq5Pp9Etfvc3QWGoJ0RiiBf1d33K+cc79Tj6Wox0den/2gs3fIM40VQTIlZfk49ezWFfPnOvGAo3rw8I0Zs5x8tipqjAgSlZjl49XNxOLF1ak8N1HnGk2Tp4o6IQ/lgyApTVp9M/HSp5ZK7/V1WV+h+prs27dNlPfKrsn6WpJeAIIkTTzifOrmYt/aGulTWyNdDh+OOFr/cPVqnt2VVbKrssqr+xpRiSBIVGLZOr69XYrWrJbe69dJr4YXpetHrcZXol4H2lx+vewdPlL2jBotkpNjfA7XCiKIa4mdWG/Bpo1ywWtbpOe2rXJeU6Pk7W+O3MnHvS7qeCTkQOlAeX/QYGkZfHXkGr4PQBBPEla/dKXu0Oe9u1/OPvCBnNXaKrlHjoi6Oqa+yXe8Wzf5ND9fPul5vrRdWNhxx/tofr4n3dtrA0HssaWyBwQQxIMQacEeAQSxx5bKHhBAEA9CpAV7BBDEHlsqe0AAQTwIkRbsEUAQe2yp7AEBBPEgRFqwRwBB7LGlsgcEEMSDEGnBHgEEsceWyh4QQBAPQqQFewQQxB5bKntAAEE8CJEW7BFAEHtsqewBAQTxIERasEcAQeyxpbIHBBDEgxBpwR4BBLHHlsoeEEAQD0KkBXsEEMQeWyp7QABBPAiRFuwRQBB7bKnsAQEE8SBEWrBHAEHssaWyBwQQxIMQacEeAQSxx5bKHhBAEA9CpAV7BBDEHlsqe0AAQTwIkRbsEUAQe2yp7AEBBPEgRFqwRwBB7LGlsgcEEMSDEGnBHgEEsceWyh4QQBAPQqQFewQQxB5bKntAAEE8CJEW7BFAEHtsqewBgf8Coc6ZjF61hZ4AAAAASUVORK5CYII=<br></code></pre></td></tr></table></figure>

<h3 id="输出-SVG"><a href="#输出-SVG" class="headerlink" title="输出 SVG"></a>输出 SVG</h3><p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b2443f233a124d6e81d1e1765a0ba473~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="079.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;canvas id=&quot;canvas&quot; width=&quot;200&quot; height=&quot;200&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  // 初始化画布<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;, &#123;<br>    backgroundColor: &#x27;#a5dee5&#x27;<br>  &#125;)<br><br>  const rect = new fabric.Rect(&#123;<br>    left: 50,<br>    top: 50,<br>    height: 20,<br>    width: 20,<br>    fill: &#x27;green&#x27;<br>  &#125;)<br><br>  const circle = new fabric.Circle(&#123;<br>    left: 80,<br>    top: 80,<br>    radius: 40,<br>    fill: &quot;red&quot;<br>  &#125;)<br><br>  canvas.add(rect, circle)<br><br>  console.log(canvas.toSVG()) // 输出 SVG<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p>输出 <code>SVG</code> 很简单，直接调用 <code>canvas.toSVG()</code> 即可。</p>
<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot; ?&gt;<br>&lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot; &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt;<br>&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; version=&quot;1.1&quot; width=&quot;200&quot; height=&quot;200&quot; viewBox=&quot;0 0 200 200&quot; xml:space=&quot;preserve&quot;&gt;<br>&lt;desc&gt;Created with Fabric.js 4.6.0&lt;/desc&gt;<br>&lt;defs&gt;<br>&lt;/defs&gt;<br>&lt;rect x=&quot;0&quot; y=&quot;0&quot; width=&quot;100%&quot; height=&quot;100%&quot; fill=&quot;#a5dee5&quot;&gt;&lt;/rect&gt;<br>&lt;g transform=&quot;matrix(1 0 0 1 60.5 60.5)&quot;  &gt;<br>&lt;rect style=&quot;stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(0,128,0); fill-rule: nonzero; opacity: 1;&quot;  x=&quot;-10&quot; y=&quot;-10&quot; rx=&quot;0&quot; ry=&quot;0&quot; width=&quot;20&quot; height=&quot;20&quot; /&gt;<br>&lt;/g&gt;<br>&lt;g transform=&quot;matrix(1 0 0 1 120.5 120.5)&quot;  &gt;<br>&lt;circle style=&quot;stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(255,0,0); fill-rule: nonzero; opacity: 1;&quot;  cx=&quot;0&quot; cy=&quot;0&quot; r=&quot;40&quot; /&gt;<br>&lt;/g&gt;<br>&lt;/svg&gt;<br></code></pre></td></tr></table></figure>

<hr>
<h2 id="反序列化"><a href="#反序列化" class="headerlink" title="反序列化"></a>反序列化</h2><p><a target="_blank" rel="noopener" href="http://k21vin.gitee.io/front-end-data-visualization/#/fabric/fabric-basic/fabric-deserialization" title="http://k21vin.gitee.io/front-end-data-visualization/#/fabric/fabric-basic/fabric-deserialization">🎁 本节案例在线预览 - 反序列化</a></p>
<p><a target="_blank" rel="noopener" href="https://gitee.com/k21vin/front-end-data-visualization/blob/master/src/views/FabricJS/Basic/pages/Deserialization/Deserialization.vue" title="https://gitee.com/k21vin/front-end-data-visualization/blob/master/src/views/FabricJS/Basic/pages/Deserialization/Deserialization.vue">🎁 本节代码仓库</a></p>
<p>反序列化就是把 <code>JSON</code> 数据渲染到画布上。</p>
<p>通常把从后台请求回来的数据渲染到画布上。</p>
<p><img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5feac5229e0c4d93b0efd76da6ed5c09~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="080.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs auto">&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;canvas id=&quot;canvas&quot; width=&quot;200&quot; height=&quot;200&quot; style=&quot;border: 1px solid #ccc;&quot;&gt;&lt;/canvas&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script setup&gt;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;<br>import &#123; fabric &#125; from &#x27;fabric&#x27;<br><br>function init() &#123;<br>  const str = &#x27;&#123;&quot;version&quot;:&quot;4.6.0&quot;,&quot;objects&quot;:[&#123;&quot;type&quot;:&quot;rect&quot;,&quot;version&quot;:&quot;4.6.0&quot;,&quot;originX&quot;:&quot;left&quot;,&quot;originY&quot;:&quot;top&quot;,&quot;left&quot;:50,&quot;top&quot;:50,&quot;width&quot;:20,&quot;height&quot;:20,&quot;fill&quot;:&quot;green&quot;,&quot;stroke&quot;:null,&quot;strokeWidth&quot;:1,&quot;strokeDashArray&quot;:null,&quot;strokeLineCap&quot;:&quot;butt&quot;,&quot;strokeDashOffset&quot;:0,&quot;strokeLineJoin&quot;:&quot;miter&quot;,&quot;strokeUniform&quot;:false,&quot;strokeMiterLimit&quot;:4,&quot;scaleX&quot;:1,&quot;scaleY&quot;:1,&quot;angle&quot;:0,&quot;flipX&quot;:false,&quot;flipY&quot;:false,&quot;opacity&quot;:1,&quot;shadow&quot;:null,&quot;visible&quot;:true,&quot;backgroundColor&quot;:&quot;&quot;,&quot;fillRule&quot;:&quot;nonzero&quot;,&quot;paintFirst&quot;:&quot;fill&quot;,&quot;globalCompositeOperation&quot;:&quot;source-over&quot;,&quot;skewX&quot;:0,&quot;skewY&quot;:0,&quot;rx&quot;:0,&quot;ry&quot;:0&#125;,&#123;&quot;type&quot;:&quot;circle&quot;,&quot;version&quot;:&quot;4.6.0&quot;,&quot;originX&quot;:&quot;left&quot;,&quot;originY&quot;:&quot;top&quot;,&quot;left&quot;:80,&quot;top&quot;:80,&quot;width&quot;:80,&quot;height&quot;:80,&quot;fill&quot;:&quot;red&quot;,&quot;stroke&quot;:null,&quot;strokeWidth&quot;:1,&quot;strokeDashArray&quot;:null,&quot;strokeLineCap&quot;:&quot;butt&quot;,&quot;strokeDashOffset&quot;:0,&quot;strokeLineJoin&quot;:&quot;miter&quot;,&quot;strokeUniform&quot;:false,&quot;strokeMiterLimit&quot;:4,&quot;scaleX&quot;:1,&quot;scaleY&quot;:1,&quot;angle&quot;:0,&quot;flipX&quot;:false,&quot;flipY&quot;:false,&quot;opacity&quot;:1,&quot;shadow&quot;:null,&quot;visible&quot;:true,&quot;backgroundColor&quot;:&quot;&quot;,&quot;fillRule&quot;:&quot;nonzero&quot;,&quot;paintFirst&quot;:&quot;fill&quot;,&quot;globalCompositeOperation&quot;:&quot;source-over&quot;,&quot;skewX&quot;:0,&quot;skewY&quot;:0,&quot;radius&quot;:40,&quot;startAngle&quot;:0,&quot;endAngle&quot;:6.283185307179586&#125;],&quot;background&quot;:&quot;#ddd&quot;&#125;&#x27;<br><br>  // 初始化画布<br>  const canvas = new fabric.Canvas(&#x27;canvas&#x27;)<br><br>  // 反序列化<br>  canvas.loadFromJSON(str)<br>&#125;<br><br>onMounted(() =&gt; &#123;<br>  init()<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p>使用 <code>canvas.loadFromJSON()</code> 可以进行反序列化，里面传入一个 <code>JSON格式</code> 的字符串 即可。</p>
<p>本例的 <code>str</code> 保存了一个 <code>Fabric.js</code> 导出的数据。</p>

<div class="article-footer fs14">
    <section id="license">
      <div class="header"><span>许可协议</span></div>
      <div class="body"><p>本文采用 <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">署名-非商业性使用-相同方式共享 4.0 国际</a> 许可协议，转载请注明出处。</p>
</div>
    </section>
    
    <section id="share">
      <div class="header"><span>分享文章</span></div>
      <div class="body">
        <div class="link"><input class="copy-area" readonly="true" id="copy-link" value="https://panzhenjie.fun/2025/03/29/%E5%BC%BA%E5%A4%A7%E7%9A%84canvas%E5%BA%93Fabric-js%E5%9F%BA%E7%A1%80%E5%9B%BE%E8%A7%A3/" /></div>
        <div class="social-wrap dis-select"><a class="social share-item wechat" onclick="util.toggle(&quot;qrcode-wechat&quot)"><img referrerpolicy="no-referrer" class="lazy"  src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/social/b32ef3da1162a.svg" /></a><a class="social share-item weibo" target="_blank" rel="external nofollow noopener noreferrer" href="https://service.weibo.com/share/share.php?url=https://panzhenjie.fun/2025/03/29/%E5%BC%BA%E5%A4%A7%E7%9A%84canvas%E5%BA%93Fabric-js%E5%9F%BA%E7%A1%80%E5%9B%BE%E8%A7%A3/&title=强大的canvas库Fabric.js基础图解 - JKK随笔&pics=/images/banner_desk.jpg&summary=
转载自: https://juejin.cn/post/7026941253845516324

简介Fabric.js 简介
Fabric.js 是一个功能强大且操作简单的 Javascript HTML5 canvas 工具库。..."><img referrerpolicy="no-referrer" class="lazy"  src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/social/80c07e4dbb303.svg" /></a><a class="social share-item email" href="mailto:?subject=强大的canvas库Fabric.js基础图解 - JKK随笔&amp;body=https://panzhenjie.fun/2025/03/29/%E5%BC%BA%E5%A4%A7%E7%9A%84canvas%E5%BA%93Fabric-js%E5%9F%BA%E7%A1%80%E5%9B%BE%E8%A7%A3/"><img referrerpolicy="no-referrer" class="lazy"  src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/social/a1b00e20f425d.svg" /></a><a class="social share-item link" onclick="util.copy(&quot;copy-link&quot;, &quot;复制成功&quot;)"><img referrerpolicy="no-referrer" class="lazy"  src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/social/8411ed322ced6.svg" /></a></div>
        
        <div class="qrcode" id="qrcode-wechat" style="opacity:0;height:0">
          <img referrerpolicy="no-referrer" class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://api.qrserver.com/v1/create-qr-code/?size=256x256&data=https://panzhenjie.fun/2025/03/29/%E5%BC%BA%E5%A4%A7%E7%9A%84canvas%E5%BA%93Fabric-js%E5%9F%BA%E7%A1%80%E5%9B%BE%E8%A7%A3/"/>
        </div>
        
      </div>
    </section>
    </div>
</article>
<div class="related-wrap" id="read-next"><section class="body"><div class="item" id="prev"><div class="note">较新文章</div><a href="/2025/04/08/canvas%E8%BF%9B%E9%98%B6%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%A7%A3/">canvas进阶知识图解</a></div><div class="item" id="next"><div class="note">较早文章</div><a href="/2025/03/26/%E4%B8%80%E4%B8%AA%E5%85%8D%E8%B4%B9%E5%AD%A6%E4%B9%A0%E7%94%9F%E8%AF%8D%E7%9A%84%E8%BD%BB%E5%BA%94%E7%94%A8/">一个免费学习生词的轻应用</a></div></section></div>

<div class="related-wrap" id="related-posts"></div>


  <div class="related-wrap md-text" id="comments">
    <section class='header cmt-title cap theme'>
      <p>快来参与讨论吧~</p>

    </section>
    <section class='body cmt-body utterances'>
      

<svg class="loading" style="vertical-align:middle;fill:currentColor;overflow:hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2709"><path d="M832 512c0-176-144-320-320-320V128c211.2 0 384 172.8 384 384h-64zM192 512c0 176 144 320 320 320v64C300.8 896 128 723.2 128 512h64z" p-id="2710"></path></svg>

<div id="utterances" repo="stephenykk/discussion" issue-term="pathname" theme="preferred-color-scheme"></div>

    </section>
  </div>



<footer class="page-footer footnote"><hr><div class="text"><p>本站由 <a href="/">stephenykk</a> 使用 <a target="_blank" rel="noopener" href="https://github.com/xaoxuu/hexo-theme-stellar/tree/1.27.0">Stellar 1.27.0</a> 主题创建。<br>本博客所有文章除特别声明外，均采用 <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 许可协议，转载请注明出处。</p>
</div></footer>
<div class="main-mask" onclick="sidebar.dismiss()"></div></div><aside class="l_right">
<div class="widgets">



<widget class="widget-wrapper toc" id="data-toc" collapse="false"><div class="widget-header dis-select"><span class="name">本文目录</span><a class="cap-action" onclick="sidebar.toggleTOC()" ><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6h11m-11 6h11m-11 6h11M4 6h1v4m-1 0h2m0 8H4c0-1 2-2 2-3s-1-1.5-2-1"/></svg></a></div><div class="widget-body"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%80%E4%BB%8B"><span class="toc-text">简介</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Fabric-js-%E7%AE%80%E4%BB%8B"><span class="toc-text">Fabric.js 简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%AC%E6%96%87%E7%AE%80%E4%BB%8B"><span class="toc-text">本文简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%B8%E5%85%B3%E9%93%BE%E6%8E%A5"><span class="toc-text">相关链接</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA"><span class="toc-text">开发环境搭建</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83%E5%92%8C%E7%89%88%E6%9C%AC%E8%AF%B4%E6%98%8E"><span class="toc-text">环境和版本说明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%EF%BC%88Vite-Vue3%EF%BC%89"><span class="toc-text">搭建环境（Vite + Vue3）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E6%90%AD%E5%BB%BAVite%E9%A1%B9%E7%9B%AE"><span class="toc-text">1. 搭建Vite项目</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E7%BB%99%E9%A1%B9%E7%9B%AE%E8%B5%B7%E4%B8%AA%E5%90%8D%EF%BC%8C%E5%B9%B6%E9%80%89%E6%8B%A9-Vue"><span class="toc-text">2. 给项目起个名，并选择 Vue</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E5%88%9D%E5%A7%8B%E5%8C%96%E9%A1%B9%E7%9B%AE"><span class="toc-text">3. 初始化项目</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85Fabric-js"><span class="toc-text">安装Fabric.js</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F1%EF%BC%9ACDN"><span class="toc-text">方式1：CDN</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F2%EF%BC%9Anpm"><span class="toc-text">方式2：npm</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B5%B7%E6%AD%A5"><span class="toc-text">起步</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%96%B0%E5%BB%BA%E9%A1%B5%E9%9D%A2%E5%B9%B6%E5%BC%95%E5%85%A5-Fabric-js"><span class="toc-text">1. 新建页面并引入 Fabric.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%88%9B%E5%BB%BA-canvas-%E5%AE%B9%E5%99%A8"><span class="toc-text">2. 创建 canvas 容器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E4%BD%BF%E7%94%A8-fabric-%E6%8E%A5%E7%AE%A1%E5%AE%B9%E5%99%A8%EF%BC%8C%E5%B9%B6%E7%94%BB%E4%B8%80%E4%B8%AA%E7%9F%A9%E5%BD%A2"><span class="toc-text">3. 使用 fabric 接管容器，并画一个矩形</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%BB%E5%B8%83"><span class="toc-text">画布</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E7%89%88%EF%BC%88%E5%8F%AF%E4%BA%A4%E4%BA%92%EF%BC%89"><span class="toc-text">基础版（可交互）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8D%E5%8F%AF%E4%BA%A4%E4%BA%92"><span class="toc-text">不可交互</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%A8js%E8%AE%BE%E5%AE%9A%E7%94%BB%E5%B8%83%E5%8F%82%E6%95%B0"><span class="toc-text">在js设定画布参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E8%83%8C%E6%99%AF%E5%9B%BE"><span class="toc-text">使用背景图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%8B%E8%BD%AC%E8%83%8C%E6%99%AF%E5%9B%BE"><span class="toc-text">旋转背景图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8B%89%E4%BC%B8%E8%83%8C%E6%99%AF%E5%9B%BE"><span class="toc-text">拉伸背景图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%87%8D%E5%A4%8D%E8%83%8C%E6%99%AF%E5%9B%BE"><span class="toc-text">重复背景图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%87%8D%E5%8F%A0%E5%BD%B1%E8%B1%A1"><span class="toc-text">重叠影象</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E5%9B%BE%E5%BD%A2"><span class="toc-text">基础图形</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9F%A9%E5%BD%A2"><span class="toc-text">矩形</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%86%E8%A7%92%E7%9F%A9%E5%BD%A2"><span class="toc-text">圆角矩形</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%86%E5%BD%A2"><span class="toc-text">圆形</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A4%AD%E5%9C%86%E5%BD%A2"><span class="toc-text">椭圆形</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E8%A7%92%E5%BD%A2"><span class="toc-text">三角形</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%BF%E6%AE%B5"><span class="toc-text">线段</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%98%E7%BA%BF"><span class="toc-text">折线</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E8%BE%B9%E5%BD%A2"><span class="toc-text">多边形</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%98%E5%88%B6%E8%B7%AF%E5%BE%84"><span class="toc-text">绘制路径</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E6%9C%AC"><span class="toc-text">文本</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%99%AE%E9%80%9A%E6%96%87%E6%9C%AC-Text"><span class="toc-text">普通文本 Text</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%AF%E7%BC%96%E8%BE%91%E6%96%87%E6%9C%AC-IText"><span class="toc-text">可编辑文本 IText</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E6%9C%AC%E6%A1%86-Textbox"><span class="toc-text">文本框 Textbox</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E6%A0%B7%E5%BC%8F"><span class="toc-text">基础样式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E5%BD%A2%E5%B8%B8%E7%94%A8%E6%A0%B7%E5%BC%8F"><span class="toc-text">图形常用样式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E6%9C%AC%E5%B8%B8%E7%94%A8%E6%A0%B7%E5%BC%8F"><span class="toc-text">文本常用样式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B8%90%E5%8F%98"><span class="toc-text">渐变</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%BF%E6%80%A7%E6%B8%90%E5%8F%98"><span class="toc-text">线性渐变</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BE%84%E5%90%91%E6%B8%90%E5%8F%98"><span class="toc-text">径向渐变</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%9B%BE%E7%89%87"><span class="toc-text">使用图片</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%B3%951%EF%BC%9A%E4%BD%BF%E7%94%A8HTML%E7%9A%84%E5%9B%BE%E7%89%87"><span class="toc-text">方法1：使用HTML的图片</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%B3%952%EF%BC%9A%E4%BD%BF%E7%94%A8js%E5%BC%95%E5%85%A5"><span class="toc-text">方法2：使用js引入</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%BE%E7%89%87%E6%BB%A4%E9%95%9C"><span class="toc-text">图片滤镜</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BD%AC%E6%8D%A2"><span class="toc-text">转换</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%8B%E8%BD%AC%E8%A7%92%E5%BA%A6-angle"><span class="toc-text">旋转角度 angle</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%A9%E6%94%BE-scaleX-%E5%92%8C-scaleY"><span class="toc-text">缩放 scaleX 和 scaleY</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%8D%E8%BD%AC-scaleX-%E5%92%8C-scaleY"><span class="toc-text">反转 scaleX 和 scaleY</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B9%B3%E7%A7%BB-top-%E5%92%8C-left"><span class="toc-text">平移 top 和 left</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E7%BB%84"><span class="toc-text">分组</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BB%BA%E7%BB%84"><span class="toc-text">建组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%BB%84"><span class="toc-text">操作组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%93%E6%95%A3%E5%88%86%E7%BB%84"><span class="toc-text">打散分组</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8A%A8%E7%94%BB"><span class="toc-text">动画</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%9D%E5%AF%B9%E5%80%BC%E5%8A%A8%E7%94%BB"><span class="toc-text">绝对值动画</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%B8%E5%AF%B9%E5%80%BC%E5%8A%A8%E7%94%BB"><span class="toc-text">相对值动画</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6"><span class="toc-text">事件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E7%94%B1%E7%BB%98%E7%94%BB"><span class="toc-text">自由绘画</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A6%81%E6%AD%A2%E9%83%A8%E5%88%86%E6%93%8D%E4%BD%9C"><span class="toc-text">禁止部分操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A6%81%E6%AD%A2%E6%B0%B4%E5%B9%B3%E7%A7%BB%E5%8A%A8"><span class="toc-text">禁止水平移动</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A6%81%E6%AD%A2%E5%9E%82%E7%9B%B4%E7%A7%BB%E5%8A%A8"><span class="toc-text">禁止垂直移动</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A6%81%E6%AD%A2%E6%97%8B%E8%BD%AC"><span class="toc-text">禁止旋转</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A6%81%E6%AD%A2%E6%B0%B4%E5%B9%B3%E7%BC%A9%E6%94%BE"><span class="toc-text">禁止水平缩放</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A6%81%E6%AD%A2%E5%9E%82%E7%9B%B4%E7%BC%A9%E6%94%BE"><span class="toc-text">禁止垂直缩放</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BC%A9%E6%94%BE%E5%92%8C%E5%B9%B3%E7%A7%BB%E7%94%BB%E5%B8%83"><span class="toc-text">缩放和平移画布</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%A9%E6%94%BE%E7%94%BB%E5%B8%83"><span class="toc-text">缩放画布</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A5%E5%8E%9F%E7%82%B9%E4%B8%BA%E5%9F%BA%E5%87%86%E7%BC%A9%E6%94%BE%E7%94%BB%E5%B8%83"><span class="toc-text">以原点为基准缩放画布</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A5%E9%BC%A0%E6%A0%87%E6%8C%87%E9%92%88%E4%B8%BA%E5%9F%BA%E5%87%86%E7%BC%A9%E6%94%BE%E7%94%BB%E5%B8%83"><span class="toc-text">以鼠标指针为基准缩放画布</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B9%B3%E7%A7%BB%E7%94%BB%E5%B8%83"><span class="toc-text">平移画布</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%89%E4%B8%AD%E7%8A%B6%E6%80%81"><span class="toc-text">选中状态</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A6%81%E6%AD%A2%E9%80%89%E4%B8%AD"><span class="toc-text">禁止选中</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A0%E6%B3%95%E9%80%9A%E8%BF%87%E7%A9%BA%E7%99%BD%E4%BD%8D%E7%BD%AE%E9%80%89%E4%B8%AD%E5%85%83%E7%B4%A0"><span class="toc-text">无法通过空白位置选中元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%BB%E5%B8%83%E6%A1%86%E9%80%89%E6%A0%B7%E5%BC%8F"><span class="toc-text">画布框选样式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E8%BE%B9%E5%92%8C%E6%8E%A7%E5%88%B6%E8%A7%92%E6%A0%B7%E5%BC%8F"><span class="toc-text">自定义边和控制角样式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%8F%E6%98%8E%E6%8E%A7%E5%88%B6%E8%A7%92"><span class="toc-text">透明控制角</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E9%80%89%E4%B8%AD%E5%90%8E%E7%9A%84%E8%83%8C%E6%99%AF%E8%89%B2"><span class="toc-text">自定义选中后的背景色</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B2%A1%E6%9C%89%E8%BE%B9%E6%A1%86"><span class="toc-text">没有边框</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B2%A1%E6%9C%89%E6%8E%A7%E5%88%B6%E8%A7%92"><span class="toc-text">没有控制角</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%85%89%E6%A0%87%E5%9C%A8%E5%AF%B9%E8%B1%A1%E6%82%AC%E5%81%9C"><span class="toc-text">自定义光标在对象悬停</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%83%E7%B4%A0%E7%A7%BB%E5%8A%A8%E6%97%B6%E7%9A%84%E6%A0%B7%E5%BC%8F"><span class="toc-text">元素移动时的样式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8D%E5%85%81%E8%AE%B8%E6%A1%86%E9%80%89"><span class="toc-text">不允许框选</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A3%81%E5%89%AA"><span class="toc-text">裁剪</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A3%81%E5%89%AA%E5%8D%95%E4%B8%80%E5%9B%BE%E5%BD%A2"><span class="toc-text">裁剪单一图形</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A3%81%E5%89%AA%E4%B8%80%E4%B8%AA%E7%BB%84"><span class="toc-text">裁剪一个组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E5%90%88%E5%89%AA%E8%BE%91"><span class="toc-text">组合剪辑</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%89%AA%E5%AE%8C%E5%86%8D%E5%89%AA%EF%BC%88%E7%BB%84%E5%90%88%E5%89%AA%E8%BE%91%EF%BC%89"><span class="toc-text">剪完再剪（组合剪辑）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E5%86%85%E5%B5%8C%E5%A5%97%E5%89%AA%E8%BE%91"><span class="toc-text">组内嵌套剪辑</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%96%87%E5%AD%97%E6%9D%A5%E8%A3%81%E5%89%AA"><span class="toc-text">用文字来裁剪</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A3%81%E5%89%AA%E7%94%BB%E5%B8%83"><span class="toc-text">裁剪画布</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A3%81%E5%89%AA%E7%94%BB%E5%B8%83%EF%BC%8C%E4%BD%86%E4%B8%8D%E8%A3%81%E6%8E%A7%E4%BB%B6"><span class="toc-text">裁剪画布，但不裁控件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A8%E7%94%BB%E8%A3%81%E5%89%AA"><span class="toc-text">动画裁剪</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E7%BB%9D%E5%AF%B9%E5%AE%9A%E4%BD%8D%E8%A3%81%E5%89%AA"><span class="toc-text">使用绝对定位裁剪</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A2%A0%E5%80%92%E7%9A%84clipPaths"><span class="toc-text">颠倒的clipPaths</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BA%8F%E5%88%97%E5%8C%96"><span class="toc-text">序列化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%87%BAJSON"><span class="toc-text">输出JSON</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%87%BApng%EF%BC%88base64%E7%89%88%EF%BC%89"><span class="toc-text">输出png（base64版）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%87%BA-SVG"><span class="toc-text">输出 SVG</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96"><span class="toc-text">反序列化</span></a></li></ol></div><div class="widget-footer">

<a class="top" onclick="util.scrollTop()"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="1.5"><path d="M2 12c0-4.714 0-7.071 1.464-8.536C4.93 2 7.286 2 12 2c4.714 0 7.071 0 8.535 1.464C22 4.93 22 7.286 22 12c0 4.714 0 7.071-1.465 8.535C19.072 22 16.714 22 12 22s-7.071 0-8.536-1.465C2 19.072 2 16.714 2 12Z"/><path stroke-linecap="round" stroke-linejoin="round" d="m9 15.5l3-3l3 3m-6-4l3-3l3 3"/></g></svg><span>回到顶部</span></a></div></widget>
</div></aside><div class='float-panel blur'>
  <button type='button' style='display:none' class='laptop-only rightbar-toggle mobile' onclick='sidebar.rightbar()'>
    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6h11m-11 6h11m-11 6h11M4 6h1v4m-1 0h2m0 8H4c0-1 2-2 2-3s-1-1.5-2-1"/></svg>
  </button>
  <button type='button' style='display:none' class='mobile-only leftbar-toggle mobile' onclick='sidebar.leftbar()'>
    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="1.5"><path d="M2 11c0-3.771 0-5.657 1.172-6.828C4.343 3 6.229 3 10 3h4c3.771 0 5.657 0 6.828 1.172C22 5.343 22 7.229 22 11v2c0 3.771 0 5.657-1.172 6.828C19.657 21 17.771 21 14 21h-4c-3.771 0-5.657 0-6.828-1.172C2 18.657 2 16.771 2 13z"/><path id="sep" stroke-linecap="round" d="M5.5 10h6m-5 4h4m4.5 7V3"/></g></svg>
  </button>
</div>
</div><div class="scripts">
<script type="text/javascript">
  const ctx = {
    date_suffix: {
      just: `刚刚`,
      min: `分钟前`,
      hour: `小时前`,
      day: `天前`,
    },
    root : `/`,
  };

  // required plugins (only load if needs)
  if (`local_search`) {
    ctx.search = {};
    ctx.search.service = `local_search`;
    if (ctx.search.service == 'local_search') {
      let service_obj = Object.assign({}, `{"field":"all","path":"/search.json","content":true,"sort":"-date"}`);
      ctx.search[ctx.search.service] = service_obj;
    }
  }
  const def = {
    avatar: `https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/avatar/round/3442075.svg`,
    cover: `https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/cover/76b86c0226ffd.svg`,
  };
  const deps = {
    jquery: `https://cdn.bootcdn.net/ajax/libs/jquery/3.7.1/jquery.min.js`,
    marked: `https://cdn.bootcdn.net/ajax/libs/marked/4.0.18/marked.min.js`
  }
  

</script>

<script type="text/javascript">
  const utils = {
    // 懒加载 css https://github.com/filamentgroup/loadCSS
    css: (href, before, media, attributes) => {
      var doc = window.document;
      var ss = doc.createElement("link");
      var ref;
      if (before) {
        ref = before;
      } else {
        var refs = (doc.body || doc.getElementsByTagName("head")[0]).childNodes;
        ref = refs[refs.length - 1];
      }
      var sheets = doc.styleSheets;
      if (attributes) {
        for (var attributeName in attributes) {
          if (attributes.hasOwnProperty(attributeName)) {
            ss.setAttribute(attributeName, attributes[attributeName]);
          }
        }
      }
      ss.rel = "stylesheet";
      ss.href = href;
      ss.media = "only x";
      function ready(cb) {
        if (doc.body) {
          return cb();
        }
        setTimeout(function () {
          ready(cb);
        });
      }
      ready(function () {
        ref.parentNode.insertBefore(ss, before ? ref : ref.nextSibling);
      });
      var onloadcssdefined = function (cb) {
        var resolvedHref = ss.href;
        var i = sheets.length;
        while (i--) {
          if (sheets[i].href === resolvedHref) {
            return cb();
          }
        }
        setTimeout(function () {
          onloadcssdefined(cb);
        });
      };
      function loadCB() {
        if (ss.addEventListener) {
          ss.removeEventListener("load", loadCB);
        }
        ss.media = media || "all";
      }
      if (ss.addEventListener) {
        ss.addEventListener("load", loadCB);
      }
      ss.onloadcssdefined = onloadcssdefined;
      onloadcssdefined(loadCB);
      return ss;
    },

    js: (src, opt) => new Promise((resolve, reject) => {
      var script = document.createElement('script');
      if (src.startsWith('/')){
        src = ctx.root + src.substring(1);
      }
      script.src = src;
      if (opt) {
        for (let key of Object.keys(opt)) {
          script[key] = opt[key]
        }
      } else {
        // 默认异步，如果需要同步，第二个参数传入 {} 即可
        script.async = true
      }
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    }),

    jq: (fn) => {
      if (typeof jQuery === 'undefined') {
        utils.js(deps.jquery).then(fn)
      } else {
        fn()
      }
    },
    
    onLoading: (el) => {
      if (el) {
        $(el).append('<div class="loading-wrap"><svg xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" stroke-opacity=".3" d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="1.3s" values="60;0"/></path><path stroke-dasharray="15" stroke-dashoffset="15" d="M12 3C16.9706 3 21 7.02944 21 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="15;0"/><animateTransform attributeName="transform" dur="1.5s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"/></path></g></svg></div>');
      }
    },
    onLoadSuccess: (el) => {
      if (el) {
        $(el).find('.loading-wrap').remove();
      }
    },
    onLoadFailure: (el) => {
      if (el) {
        $(el).find('.loading-wrap svg').remove();
        $(el).find('.loading-wrap').append('<svg xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" d="M12 3L21 20H3L12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.5s" values="60;0"/></path><path stroke-dasharray="6" stroke-dashoffset="6" d="M12 10V14"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.6s" dur="0.2s" values="6;0"/></path></g><circle cx="12" cy="17" r="1" fill="currentColor" fill-opacity="0"><animate fill="freeze" attributeName="fill-opacity" begin="0.8s" dur="0.4s" values="0;1"/></circle></svg>');
        $(el).find('.loading-wrap').addClass('error');
      }
    },
    request: (el, url, callback, onFailure) => {
      let retryTimes = 3;
      utils.onLoading(el);
      function req() {
        return new Promise((resolve, reject) => {
          let status = 0; // 0 等待 1 完成 2 超时
          let timer = setTimeout(() => {
            if (status === 0) {
              status = 2;
              timer = null;
              reject('请求超时');
              if (retryTimes == 0) {
                onFailure();
              }
            }
          }, 5000);
          fetch(url).then(function(response) {
            if (status !== 2) {
              clearTimeout(timer);
              resolve(response);
              timer = null;
              status = 1;
            }
            if (response.ok) {
              return response.json();
            }
            throw new Error('Network response was not ok.');
          }).then(function(data) {
            retryTimes = 0;
            utils.onLoadSuccess(el);
            callback(data);
          }).catch(function(error) {
            if (retryTimes > 0) {
              retryTimes -= 1;
              setTimeout(() => {
                req();
              }, 5000);
            } else {
              utils.onLoadFailure(el);
              onFailure();
            }
          });
        });
      }
      req();
    },
  };
</script>

<script>
  const sidebar = {
    leftbar: () => {
      if (l_body) {
        l_body.toggleAttribute('leftbar');
        l_body.removeAttribute('rightbar');
      }
    },
    rightbar: () => {
      if (l_body) {
        l_body.toggleAttribute('rightbar');
        l_body.removeAttribute('leftbar');
      }
    },
    dismiss: () => {
      if (l_body) {
        l_body.removeAttribute('leftbar');
        l_body.removeAttribute('rightbar');
      }
    },
    toggleTOC: () => {
      document.querySelector('#data-toc').classList.toggle('collapse');
    }
  }
</script>

<!-- required -->
<script src="/js/main.js?v=1.27.0" async></script>

<!-- optional -->

  <script>
  function loadUtterances() {
    const els = document.querySelectorAll("#comments #utterances");
    if (els.length === 0) return;
    els.forEach((el, i) => {
      try {
        el.innerHTML = '';
      } catch (error) {
        console.error(error);
      }
      var script = document.createElement('script');
      script.src = 'https://utteranc.es/client.js';
      script.async = true;
      for (let key of Object.keys(el.attributes)) {
        let attr = el.attributes[key];
        if (['class', 'id'].includes(attr.name) === false) {
          script.setAttribute(attr.name, attr.value);
        }
      }
      el.appendChild(script);
    });
  }
  window.addEventListener('DOMContentLoaded', (event) => {
      loadUtterances();
  });
</script>




<script defer>
  window.addEventListener('DOMContentLoaded', (event) => {
    ctx.services = Object.assign({}, JSON.parse(`{"mdrender":{"js":"/js/services/mdrender.js"},"siteinfo":{"js":"/js/services/siteinfo.js","api":null},"ghinfo":{"js":"/js/services/ghinfo.js"},"sites":{"js":"/js/services/sites.js"},"friends":{"js":"/js/services/friends.js"},"timeline":{"js":"/js/services/timeline.js"},"fcircle":{"js":"/js/services/fcircle.js"},"weibo":{"js":"/js/services/weibo.js"},"memos":{"js":"/js/services/memos.js"}}`));
    for (let id of Object.keys(ctx.services)) {
      const js = ctx.services[id].js;
      if (id == 'siteinfo') {
        ctx.cardlinks = document.querySelectorAll('a.link-card[cardlink]');
        if (ctx.cardlinks?.length > 0) {
          utils.js(js, { defer: true }).then(function () {
            setCardLink(ctx.cardlinks);
          });
        }
      } else {
        const els = document.getElementsByClassName(`ds-${id}`);
        if (els?.length > 0) {
          utils.jq(() => {
            if (id == 'timeline' || 'memos' || 'marked') {
              utils.js(deps.marked).then(function () {
                utils.js(js, { defer: true });
              });
            } else {
              utils.js(js, { defer: true });
            }
          });
        }
      }
    }
  });
</script>

<script>
  window.addEventListener('DOMContentLoaded', (event) => {
    ctx.search = {
      path: `/search.json`,
    }
    utils.js('/js/search/local-search.js', { defer: true });
  });
</script><script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?02fb88f7bf299c2e9c095c0f64f432d8";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
<script>
  window.FPConfig = {
    delay: 0,
    ignoreKeywords: [],
    maxRPS: 5,
    hoverDelay: 25
  };
</script>
<script defer src="https://cdn.bootcdn.net/ajax/libs/flying-pages/2.1.2/flying-pages.min.js"></script><script defer src="https://cdn.bootcdn.net/ajax/libs/vanilla-lazyload/17.8.4/lazyload.min.js"></script>
<script>
  // https://www.npmjs.com/package/vanilla-lazyload
  // Set the options globally
  // to make LazyLoad self-initialize
  window.lazyLoadOptions = {
    elements_selector: ".lazy",
  };
  // Listen to the initialization event
  // and get the instance of LazyLoad
  window.addEventListener(
    "LazyLoad::Initialized",
    function (event) {
      window.lazyLoadInstance = event.detail.instance;
    },
    false
  );
  document.addEventListener('DOMContentLoaded', function () {
    window.lazyLoadInstance?.update();
  });
</script><script>
  ctx.fancybox = {
    selector: `.timenode p>img`,
    css: `https://cdn.bootcdn.net/ajax/libs/fancyapps-ui/5.0.22/fancybox/fancybox.min.css`,
    js: `https://cdn.bootcdn.net/ajax/libs/fancyapps-ui/5.0.22/fancybox/fancybox.umd.min.js`
  };
  var selector = '[data-fancybox]:not(.error)';
  if (ctx.fancybox.selector) {
    selector += `, ${ctx.fancybox.selector}`
  }
  var needFancybox = document.querySelectorAll(selector).length !== 0;
  if (!needFancybox) {
    const els = document.getElementsByClassName('ds-memos');
    if (els != undefined && els.length > 0) {
      needFancybox = true;
    }
  }
  if (needFancybox) {
    utils.css(ctx.fancybox.css);
    utils.js(ctx.fancybox.js, { defer: true }).then(function () {
      Fancybox.bind(selector, {
        hideScrollbar: false,
        Thumbs: {
          autoStart: false,
        },
        caption: (fancybox, slide) => {
          return slide.triggerEl.alt || null
        }
      });
    })
  }
</script><script>
  window.addEventListener('DOMContentLoaded', (event) => {
    const swiper_api = document.getElementById('swiper-api');
    if (swiper_api != undefined) {
      utils.css(`https://unpkg.com/swiper@10.3.1/swiper-bundle.min.css`);
      utils.js(`https://unpkg.com/swiper@10.3.1/swiper-bundle.min.js`, { defer: true }).then(function () {
        const effect = swiper_api.getAttribute('effect') || '';
        var swiper = new Swiper('.swiper#swiper-api', {
          slidesPerView: 'auto',
          spaceBetween: 8,
          centeredSlides: true,
          effect: effect,
          loop: true,
          pagination: {
            el: '.swiper-pagination',
            clickable: true,
          },
          navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
          },
        });
      })
    }
  });
</script><script>
  document.addEventListener('DOMContentLoaded', function () {
    window.codeElements = document.querySelectorAll('.code');
    if (window.codeElements.length > 0) {
      ctx.copycode = {
        default_text: `Copy`,
        success_text: `Copied`,
        toast: `复制成功`,
      };
      utils.js('/js/plugins/copycode.js');
    }
  });
</script>


<!-- inject -->

</div></body></html>
